/*! For license information please see index.js.LICENSE.txt */
(()=>{var o={869:(o,t,r)=>{"use strict";r.d(t,{_:()=>i});var e=r(85608);function i(o,t,r,e,i){return new s(o,t,r,e,i)}var s=function(o){function t(t,r,e,i,s,l){var n=o.call(this,t)||this;return n.onFinalize=s,n.shouldUnsubscribe=l,n._next=r?function(o){try{r(o)}catch(o){t.error(o)}}:o.prototype._next,n._error=i?function(o){try{i(o)}catch(o){t.error(o)}finally{this.unsubscribe()}}:o.prototype._error,n._complete=e?function(){try{e()}catch(o){t.error(o)}finally{this.unsubscribe()}}:o.prototype._complete,n}return(0,e.C6)(t,o),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;o.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(r(21235).vU)},1772:(o,t,r)=>{"use strict";r.d(t,{M:()=>s});var e=r(61824),i=r(54184);function s(o,t){if(!o)throw new Error("Iterable cannot be null");return new e.c(function(r){(0,i.N)(r,t,function(){var e=o[Symbol.asyncIterator]();(0,i.N)(r,t,function(){e.next().then(function(o){o.done?r.complete():r.next(o.value)})},0,!0)})})}},3941:(o,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var e=r(36758),i=r.n(e),s=r(40935),l=r.n(s)()(i());l.push([o.id,':host,.sl-theme-dark{color-scheme:dark;--sl-color-gray-50: hsl(240, 5.1%, 15%);--sl-color-gray-100: hsl(240, 5.7%, 18.2%);--sl-color-gray-200: hsl(240, 4.6%, 22%);--sl-color-gray-300: hsl(240, 5%, 27.6%);--sl-color-gray-400: hsl(240, 5%, 35.5%);--sl-color-gray-500: hsl(240, 3.7%, 44%);--sl-color-gray-600: hsl(240, 5.3%, 58%);--sl-color-gray-700: hsl(240, 5.6%, 73%);--sl-color-gray-800: hsl(240, 7.3%, 84%);--sl-color-gray-900: hsl(240, 9.1%, 91.8%);--sl-color-gray-950: hsl(0, 0%, 95%);--sl-color-red-50: hsl(0, 56%, 23.9%);--sl-color-red-100: hsl(0.6, 60%, 33.9%);--sl-color-red-200: hsl(0.9, 67.2%, 37.1%);--sl-color-red-300: hsl(1.1, 71.3%, 43.7%);--sl-color-red-400: hsl(1, 76%, 52.5%);--sl-color-red-500: hsl(0.7, 89.6%, 57.2%);--sl-color-red-600: hsl(0, 98.6%, 67.9%);--sl-color-red-700: hsl(0, 100%, 72.3%);--sl-color-red-800: hsl(0, 100%, 85.6%);--sl-color-red-900: hsl(0, 100%, 90.3%);--sl-color-red-950: hsl(0, 100%, 95.9%);--sl-color-orange-50: hsl(15, 64.2%, 23.3%);--sl-color-orange-100: hsl(15.1, 70.9%, 31.1%);--sl-color-orange-200: hsl(15.3, 75.7%, 35.5%);--sl-color-orange-300: hsl(17.1, 83.5%, 42.7%);--sl-color-orange-400: hsl(20.1, 88%, 50.8%);--sl-color-orange-500: hsl(24.3, 100%, 50.5%);--sl-color-orange-600: hsl(27.2, 100%, 57.7%);--sl-color-orange-700: hsl(31.3, 100%, 68.7%);--sl-color-orange-800: hsl(33.8, 100%, 79.3%);--sl-color-orange-900: hsl(38.9, 100%, 87.7%);--sl-color-orange-950: hsl(46.2, 100%, 95%);--sl-color-amber-50: hsl(21.9, 66.3%, 21.1%);--sl-color-amber-100: hsl(21.5, 73.6%, 29.7%);--sl-color-amber-200: hsl(22.3, 77.6%, 33.3%);--sl-color-amber-300: hsl(25.4, 84.2%, 39.6%);--sl-color-amber-400: hsl(31.4, 87.4%, 46.7%);--sl-color-amber-500: hsl(37, 96.6%, 48.3%);--sl-color-amber-600: hsl(43.3, 100%, 53.4%);--sl-color-amber-700: hsl(46.5, 100%, 61.1%);--sl-color-amber-800: hsl(49.3, 100%, 73%);--sl-color-amber-900: hsl(51.8, 100%, 85%);--sl-color-amber-950: hsl(60, 100%, 94.6%);--sl-color-yellow-50: hsl(32.5, 60%, 18.2%);--sl-color-yellow-100: hsl(28.1, 68.6%, 29%);--sl-color-yellow-200: hsl(31.3, 75.8%, 30.8%);--sl-color-yellow-300: hsl(34.7, 84.4%, 35.3%);--sl-color-yellow-400: hsl(40.1, 87.3%, 43.3%);--sl-color-yellow-500: hsl(44.7, 88%, 46%);--sl-color-yellow-600: hsl(47.7, 100%, 50.9%);--sl-color-yellow-700: hsl(51.3, 100%, 59.9%);--sl-color-yellow-800: hsl(54.6, 100%, 73%);--sl-color-yellow-900: hsl(58.9, 100%, 84.2%);--sl-color-yellow-950: hsl(60, 100%, 94%);--sl-color-lime-50: hsl(86.5, 54.4%, 18%);--sl-color-lime-100: hsl(87.6, 56.8%, 23.3%);--sl-color-lime-200: hsl(85.8, 63.2%, 24.5%);--sl-color-lime-300: hsl(86.1, 72%, 29.4%);--sl-color-lime-400: hsl(85.5, 76.8%, 37.3%);--sl-color-lime-500: hsl(84.3, 74.2%, 42.1%);--sl-color-lime-600: hsl(82.8, 81.5%, 52.6%);--sl-color-lime-700: hsl(82, 89.9%, 64%);--sl-color-lime-800: hsl(80.9, 97.9%, 76.6%);--sl-color-lime-900: hsl(77.9, 100%, 85.8%);--sl-color-lime-950: hsl(69.5, 100%, 93.8%);--sl-color-green-50: hsl(144.3, 53.6%, 16%);--sl-color-green-100: hsl(143.2, 55.4%, 23.5%);--sl-color-green-200: hsl(141.5, 58.2%, 26.3%);--sl-color-green-300: hsl(140.8, 64.2%, 31.8%);--sl-color-green-400: hsl(140.3, 68%, 39.2%);--sl-color-green-500: hsl(141.1, 64.9%, 43%);--sl-color-green-600: hsl(141.6, 72.4%, 55.2%);--sl-color-green-700: hsl(141.7, 82.7%, 70.1%);--sl-color-green-800: hsl(141, 90.9%, 82.1%);--sl-color-green-900: hsl(142, 100%, 89.1%);--sl-color-green-950: hsl(144, 100%, 95.5%);--sl-color-emerald-50: hsl(164.3, 75%, 13.5%);--sl-color-emerald-100: hsl(163.5, 72.6%, 20.1%);--sl-color-emerald-200: hsl(162.1, 73.7%, 22.4%);--sl-color-emerald-300: hsl(161.3, 77.3%, 27.6%);--sl-color-emerald-400: hsl(159.6, 77.1%, 34.3%);--sl-color-emerald-500: hsl(159.1, 73.5%, 37.9%);--sl-color-emerald-600: hsl(157.8, 66.8%, 48.9%);--sl-color-emerald-700: hsl(156.2, 76.1%, 63.8%);--sl-color-emerald-800: hsl(152.4, 84.4%, 77.4%);--sl-color-emerald-900: hsl(149.3, 100%, 87%);--sl-color-emerald-950: hsl(158.6, 100%, 94.8%);--sl-color-teal-50: hsl(176.5, 51.5%, 15.4%);--sl-color-teal-100: hsl(175.9, 54.7%, 22.3%);--sl-color-teal-200: hsl(175.9, 60.7%, 23.9%);--sl-color-teal-300: hsl(174.5, 67.3%, 28.8%);--sl-color-teal-400: hsl(174.4, 71.9%, 34.9%);--sl-color-teal-500: hsl(173.1, 71%, 38.3%);--sl-color-teal-600: hsl(172.3, 68.2%, 48.1%);--sl-color-teal-700: hsl(170.5, 81.3%, 61.5%);--sl-color-teal-800: hsl(168.4, 92.1%, 75.2%);--sl-color-teal-900: hsl(168.3, 100%, 86%);--sl-color-teal-950: hsl(180, 100%, 95.5%);--sl-color-wh-50: hsl(168.5, 65%, 11%);--sl-color-wh-100: hsl(167, 76%, 19%);--sl-color-wh-200: hsl(165.5, 86%, 24%);--sl-color-wh-300: hsl(164, 94%, 29%);--sl-color-wh-400: hsl(162.5, 103%, 31%);--sl-color-wh-500: hsl(161, 100%, 35%);--sl-color-wh-600: hsl(161, 86%, 45%);--sl-color-wh-700: hsl(161, 76%, 55%);--sl-color-wh-800: hsl(161, 83%, 76%);--sl-color-wh-900: hsl(161, 85%, 89%);--sl-color-wh-950: hsl(161, 76%, 96%);--sl-color-cyan-50: hsl(197.1, 53.8%, 20.3%);--sl-color-cyan-100: hsl(196.8, 57.3%, 27.2%);--sl-color-cyan-200: hsl(195.3, 62.7%, 29.4%);--sl-color-cyan-300: hsl(193.5, 71.3%, 34.1%);--sl-color-cyan-400: hsl(192.5, 76.8%, 40.6%);--sl-color-cyan-500: hsl(189.4, 78.6%, 42.6%);--sl-color-cyan-600: hsl(188.2, 89.1%, 51.7%);--sl-color-cyan-700: hsl(187, 98.6%, 66.2%);--sl-color-cyan-800: hsl(184.9, 100%, 78.3%);--sl-color-cyan-900: hsl(180, 100%, 86.6%);--sl-color-cyan-950: hsl(180, 100%, 94.8%);--sl-color-sky-50: hsl(203, 63.8%, 20.9%);--sl-color-sky-100: hsl(203.4, 70.4%, 28%);--sl-color-sky-200: hsl(202.7, 75.8%, 30.8%);--sl-color-sky-300: hsl(203.1, 80.4%, 36.1%);--sl-color-sky-400: hsl(202.1, 80.5%, 44.3%);--sl-color-sky-500: hsl(199.7, 85.9%, 47.7%);--sl-color-sky-600: hsl(198.7, 97.9%, 57.2%);--sl-color-sky-700: hsl(198.7, 100%, 70.5%);--sl-color-sky-800: hsl(198.8, 100%, 82.5%);--sl-color-sky-900: hsl(198.5, 100%, 89.9%);--sl-color-sky-950: hsl(186, 100%, 95.5%);--sl-color-blue-50: hsl(227.1, 49.5%, 22.7%);--sl-color-blue-100: hsl(225.8, 58.9%, 36.8%);--sl-color-blue-200: hsl(227.7, 64.4%, 42.9%);--sl-color-blue-300: hsl(226.1, 72.7%, 51.2%);--sl-color-blue-400: hsl(222.6, 86.5%, 56.3%);--sl-color-blue-500: hsl(217.8, 95.8%, 57.4%);--sl-color-blue-600: hsl(213.3, 100%, 65%);--sl-color-blue-700: hsl(210.9, 100%, 74.8%);--sl-color-blue-800: hsl(211.5, 100%, 83.4%);--sl-color-blue-900: hsl(211, 100%, 88.9%);--sl-color-blue-950: hsl(201.8, 100%, 95.3%);--sl-color-indigo-50: hsl(243.5, 40.8%, 27%);--sl-color-indigo-100: hsl(242.9, 45.7%, 37.6%);--sl-color-indigo-200: hsl(244.7, 52.7%, 43.1%);--sl-color-indigo-300: hsl(245.3, 60.5%, 52.4%);--sl-color-indigo-400: hsl(244.1, 79.2%, 60.4%);--sl-color-indigo-500: hsl(239.6, 88.7%, 63.8%);--sl-color-indigo-600: hsl(234.5, 96.7%, 70.9%);--sl-color-indigo-700: hsl(229.4, 100%, 78.3%);--sl-color-indigo-800: hsl(227.1, 100%, 85%);--sl-color-indigo-900: hsl(223.8, 100%, 89.9%);--sl-color-indigo-950: hsl(220, 100%, 95.1%);--sl-color-violet-50: hsl(265.1, 57.3%, 25.4%);--sl-color-violet-100: hsl(263.5, 63.8%, 39.4%);--sl-color-violet-200: hsl(263.4, 66.2%, 44.1%);--sl-color-violet-300: hsl(263.7, 72.8%, 52.4%);--sl-color-violet-400: hsl(262.5, 87.3%, 59.8%);--sl-color-violet-500: hsl(258.3, 95.1%, 63.2%);--sl-color-violet-600: hsl(255.1, 100%, 67.2%);--sl-color-violet-700: hsl(253, 100%, 81.5%);--sl-color-violet-800: hsl(251.7, 100%, 87.9%);--sl-color-violet-900: hsl(254.1, 100%, 91.7%);--sl-color-violet-950: hsl(257.1, 100%, 96.1%);--sl-color-purple-50: hsl(276, 54.3%, 20.5%);--sl-color-purple-100: hsl(273.6, 61.8%, 35.4%);--sl-color-purple-200: hsl(272.9, 64%, 41.4%);--sl-color-purple-300: hsl(271.9, 68.1%, 49.2%);--sl-color-purple-400: hsl(271.5, 85.1%, 57.8%);--sl-color-purple-500: hsl(270.7, 96.4%, 62.1%);--sl-color-purple-600: hsl(270.5, 100%, 71.9%);--sl-color-purple-700: hsl(270.9, 100%, 81.3%);--sl-color-purple-800: hsl(272.4, 100%, 87.7%);--sl-color-purple-900: hsl(276.7, 100%, 91.5%);--sl-color-purple-950: hsl(300, 100%, 96.5%);--sl-color-fuchsia-50: hsl(297.1, 51.2%, 18.6%);--sl-color-fuchsia-100: hsl(296.7, 59.5%, 31.5%);--sl-color-fuchsia-200: hsl(295.4, 65.4%, 35.1%);--sl-color-fuchsia-300: hsl(294.6, 67.4%, 42.2%);--sl-color-fuchsia-400: hsl(293.3, 68.7%, 51.2%);--sl-color-fuchsia-500: hsl(292.1, 88.4%, 57.7%);--sl-color-fuchsia-600: hsl(292, 98.5%, 59.5%);--sl-color-fuchsia-700: hsl(292.4, 100%, 79.5%);--sl-color-fuchsia-800: hsl(292.9, 100%, 86.8%);--sl-color-fuchsia-900: hsl(300, 100%, 91.5%);--sl-color-fuchsia-950: hsl(300, 100%, 96.3%);--sl-color-pink-50: hsl(336.2, 59.6%, 20%);--sl-color-pink-100: hsl(336.8, 63.9%, 34%);--sl-color-pink-200: hsl(336.8, 68.7%, 37.6%);--sl-color-pink-300: hsl(336.1, 71.8%, 44.5%);--sl-color-pink-400: hsl(333.9, 74.9%, 53.1%);--sl-color-pink-500: hsl(330.7, 86.3%, 57.7%);--sl-color-pink-600: hsl(328.6, 91.5%, 67.2%);--sl-color-pink-700: hsl(327.4, 97.6%, 78.7%);--sl-color-pink-800: hsl(325.1, 100%, 86.6%);--sl-color-pink-900: hsl(322.1, 100%, 91.3%);--sl-color-pink-950: hsl(315, 100%, 95.9%);--sl-color-rose-50: hsl(342.3, 62.9%, 21.5%);--sl-color-rose-100: hsl(342.8, 68.9%, 34.2%);--sl-color-rose-200: hsl(344.8, 72.6%, 37.3%);--sl-color-rose-300: hsl(346.9, 75.8%, 43.7%);--sl-color-rose-400: hsl(348.2, 80.1%, 52.7%);--sl-color-rose-500: hsl(350.4, 94.8%, 57.5%);--sl-color-rose-600: hsl(351.2, 100%, 58.1%);--sl-color-rose-700: hsl(352.3, 100%, 78.1%);--sl-color-rose-800: hsl(352, 100%, 86.2%);--sl-color-rose-900: hsl(354.5, 100%, 90.7%);--sl-color-rose-950: hsl(353.3, 100%, 95.7%);--sl-color-primary-50: var(--sl-color-wh-50);--sl-color-primary-100: var(--sl-color-wh-100);--sl-color-primary-200: var(--sl-color-wh-200);--sl-color-primary-300: var(--sl-color-wh-300);--sl-color-primary-400: var(--sl-color-wh-400);--sl-color-primary-500: var(--sl-color-wh-500);--sl-color-primary-600: var(--sl-color-wh-600);--sl-color-primary-700: var(--sl-color-wh-700);--sl-color-primary-800: var(--sl-color-wh-800);--sl-color-primary-900: var(--sl-color-wh-900);--sl-color-primary-950: var(--sl-color-wh-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(240, 5.9%, 11%);--sl-color-neutral-1000: hsl(0, 0%, 100%);--sl-border-radius-small: 0.1875rem;--sl-border-radius-medium: 0.25rem;--sl-border-radius-large: 0.5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px rgba(0, 0, 0, 0.18);--sl-shadow-small: 0 1px 2px rgba(0, 0, 0, 0.24);--sl-shadow-medium: 0 2px 4px rgba(0, 0, 0, 0.24);--sl-shadow-large: 0 2px 8px rgba(0, 0, 0, 0.24);--sl-shadow-x-large: 0 4px 16px rgba(0, 0, 0, 0.24);--sl-spacing-3x-small: 0.125rem;--sl-spacing-2x-small: 0.25rem;--sl-spacing-x-small: 0.5rem;--sl-spacing-small: 0.75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1000ms;--sl-transition-slow: 500ms;--sl-transition-medium: 250ms;--sl-transition-fast: 150ms;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: 0.575em;--sl-font-size-x-small: 0.7em;--sl-font-size-small: 0.8em;--sl-font-size-medium: 0.95em;--sl-font-size-large: 1.2em;--sl-font-size-x-large: 1.45em;--sl-font-size-2x-large: 2em;--sl-font-size-3x-large: 1.85em;--sl-font-size-4x-large: 4em;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -0.03em;--sl-letter-spacing-dense: -0.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: 0.075em;--sl-letter-spacing-looser: 0.15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-700);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--wh-bg-base);--sl-input-background-color-hover: var(--wh-bg-back);--sl-input-background-color-focus: var(--wh-bg-back);--sl-input-background-color-disabled: var(--wh-bg-front);--sl-input-border-color: var(--wh-border-base);--sl-input-border-color-hover: var(--wh-border-base-hover);--sl-input-border-color-focus: var(--wh-border-base-hover);--sl-input-border-color-disabled: var(--wh-border-base-hover);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--wh-text);--sl-input-color-hover: var(--wh-text);--sl-input-color-focus: var(--wh-text);--sl-input-color-disabled: var(--wh-text-lighter);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--wh-text-lighter);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-filled-background-color: var(--wh-bg-front);--sl-input-filled-background-color-hover: var(--wh-bg-front);--sl-input-filled-background-color-focus: var(--wh-bg-front);--sl-input-filled-background-color-disabled: var(--wh-bg-front);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--wh-text);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-focus-ring-color: hsla(198.6, 88.7%, 48.4%, 0.4);--sl-input-focus-ring-offset: 0;--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--wh-text-light);--sl-toggle-size-small: 0.875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsla(0, 0%, 0%, 0.43);--sl-panel-background-color: var(--wh-bg-base);--sl-panel-border-color: var(--wh-border-base);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--wh-bg-base);--sl-tooltip-color: var(--wh-text);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-x-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}',""]);const n=l},4441:(o,t,r)=>{"use strict";r.d(t,{T:()=>l});var e=r(93811),i=r(15618),s=r.n(i);const l=e.css`
  ${(0,e.unsafeCSS)(s())}

  .content-container {
    --wh-blockquote-line-height: 1.5;
  }
  .content-container.full-width {
    max-width: calc(100% - 10px);
  }

  .cover-container-overlay-content {
    padding: 4px 0;
  }
`},7427:(o,t,r)=>{"use strict";r.d(t,{P:()=>l});var e=r(46195),i=r(45106),s=r(36518);function l(o,t){return(0,e.Tg)(o).pipe((0,s._)(t),(0,i.Q)(t))}},7861:(o,t,r)=>{"use strict";r.d(t,{Y:()=>s,l:()=>l});var e=r(30747),i=null;function s(o){if(e.$.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),o(),t){var r=i,s=r.errorThrown,l=r.error;if(i=null,s)throw l}}else o()}function l(o){e.$.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=o)}},9355:(o,t,r)=>{"use strict";var e=r(93811),i=r(38085),s=r(95665),l=r(30827),n=r(71882),a=r(72140),c=r.n(a),h=function(o,t,r,e){var i,s=arguments.length,l=s<3?t:null===e?e=Object.getOwnPropertyDescriptor(t,r):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,t,r,e);else for(var n=o.length-1;n>=0;n--)(i=o[n])&&(l=(s<3?i(l):s>3?i(t,r,l):i(t,r))||l);return s>3&&l&&Object.defineProperty(t,r,l),l},d=function(o,t,r,e){return new(r||(r=Promise))(function(i,s){function l(o){try{a(e.next(o))}catch(o){s(o)}}function n(o){try{a(e.throw(o))}catch(o){s(o)}}function a(o){var t;o.done?i(o.value):(t=o.value,t instanceof r?t:new r(function(o){o(t)})).then(l,n)}a((e=e.apply(o,t||[])).next())})};const p=i.SHARED_COMPONENTS_INTERNAL.BookmarkDetailsDotsMenu.TAG;class u extends l.y{constructor(){super(...arguments),this.showDotsLoadingSpinner=!1,this.components=[i.SHARED_COMPONENTS.DotsMenu.TAG]}dispatchCustomEvent(o,t){this.dispatchEvent(new CustomEvent(o,{bubbles:!0,detail:t}))}onDeleteBookmark(){if(confirm("Do you really want to delete the bookmark and all of its highlights?")&&this.bookmark._id)return(0,i.deleteBookmarkWithMarks)({_id:this.bookmark._id})}onCopyMarkdown(){return this.onCopyBookmarkContent("markdown")}onCopyHtml(){return this.onCopyBookmarkContent("html")}showErrorToast(){(0,i.showSomethingWentWrong)()}onPdfDownload(){i.chromeJwtService.getJwtPayload().then(o=>{if(!o)return i.notifications.dispatch("loginNeeded",{detail:{}});if(!(0,i.userCan)("export-pdf-file",o))return void(0,i.showPremiumDialog)({});this.showDotsLoadingSpinner=!0;const{httpFacade:t}=(0,i.useContext)();t.downloadPdf(this.bookmark).then(o=>{var t=window.URL.createObjectURL(o);window.open(t,"_blank"),this.showDotsLoadingSpinner=!1,(0,i.showToast)({content:"Successfully exported PDF!",variant:"success",uniqueId:"pdf-export-success"})}).catch(()=>{this.showDotsLoadingSpinner=!1,this.showErrorToast()})})}onHtmlDownload(){i.chromeJwtService.getJwtPayload().then(o=>{if(!o)return i.notifications.dispatch("loginNeeded",{detail:{}});(0,i.userCan)("export-html-file",o)?(this.showDotsLoadingSpinner=!0,(0,i.resolveExportContent)("html",this.bookmark._id).then(o=>{var t;this.showDotsLoadingSpinner=!1,(0,i.showToast)({content:"Successfully exported HTML!",variant:"success",uniqueId:"html-export-success"});const r=window.document.createElement("a");r.href=window.URL.createObjectURL(new Blob([o],{type:"text/html"}));const e=`${(0,i.stringToFileName)(this.bookmark.title)}.html`;r.download=e,document.body.appendChild(r),r.click(),null===(t=document.body)||void 0===t||t.removeChild(r)}).catch(()=>{this.showDotsLoadingSpinner=!1,this.showErrorToast()})):(0,i.showPremiumDialog)({})})}onCopyBookmarkContent(o){i.chromeJwtService.getJwtPayload().then(t=>d(this,void 0,void 0,function*(){this.showDotsLoadingSpinner=!0,this.bookmark&&(0,i.resolveExportContent)(o,this.bookmark._id).then(t=>d(this,void 0,void 0,function*(){this.showDotsLoadingSpinner=!1;const r={content:"Copied Markdown to Clipboard ðŸ“„",variant:"success",uniqueId:"copied-markdown",ctaBtn:{text:"Learn More",fn:()=>(0,i.navigateExternal)("https://web-highlights.com/blog/how-to-export-your-kindle-highlights-and-notes-to-notion/",!0)}};yield(0,i.copyTextToClipBoard)({value:t,toast:"markdown"===o?r:void 0})})).catch(o=>{(0,i.isUnauthorizedError)(o)&&i.notifications.dispatch("loginNeeded",{detail:{}}),this.showDotsLoadingSpinner=!1})}))}onSendToNotion(){return d(this,void 0,void 0,function*(){var o,t,r,e,s,l,n;this.showDotsLoadingSpinner=!0;try{const{db:a,httpFacade:c}=(0,i.useContext)(),[h,d]=yield Promise.all([i.chromeJwtService.getJwtPayload(),(0,i.userHasReachedFreeNotionLimit)()]);if(!(0,i.userCan)("unlimited-send-to-notion",null!=h?h:null)&&d)return void(0,i.showPremiumDialog)({props:{headline:"You've Hit Your Daily Limit. Upgrade to export unlimited ðŸš€",hideExpiryInfo:!0}});const p=yield(0,i.getNotionAccessToken)(),u=null===(t=null===(o=(yield a.getChromeSettings()).integrations)||void 0===o?void 0:o.find(i.isNotionIntegration))||void 0===t?void 0:t.databaseId;if(p&&u){const o=yield a.getMarksForBookmark(this.bookmark),t=(0,i.createTagsFromMarksAndBookmarks)(o,[this.bookmark]),h=yield c.createNotionPage(u,{title:(0,i.getTitleForBookmark)(this.bookmark),coverImage:null!==(r=(0,i.extractMetaData)(this.bookmark,this.meta).image)&&void 0!==r?r:i.FALLBACK_LINK_PREVIEW_URL,id:this.bookmark._id,tags:t.map(o=>o.name),description:null!==(s=null===(e=this.bookmark)||void 0===e?void 0:e.description)&&void 0!==s?s:"",url:this.bookmark.url,updatedAtIsoDateString:new Date(null!==(l=this.bookmark.updatedAt)&&void 0!==l?l:this.bookmark.createdAt).toISOString(),marks:(0,i.sortMarksOfBookmark)(o,this.bookmark).map(o=>{var t,r;return{text:o.text,color:o.color,mediaType:o.mediaType,tags:o.tags,imageSrc:o.imageSrc,richText:(0,i.richTextHasContent)(o)?null===(r=null!==(t=(0,i.richTextToMarkdown)(o))&&void 0!==t?t:"")||void 0===r?void 0:r.trim():null}})});h.url?yield(0,i.updateBookmark)({_id:this.bookmark._id,integrationPages:Object.assign(Object.assign({},null!==(n=this.bookmark.integrationPages)&&void 0!==n?n:{}),{NOTION_EXPORT:{url:h.url,integrationId:i.INTEGRATION_IDS.NOTION_EXPORT,createdAt:Date.now()}})}):(0,i.showSomethingWentWrong)()}else(0,i.showNotionSettings)()}catch(o){if(console.error(o),(0,i.isNotionApiError)(o)){if(o.code===i.NotionApiErrorCode.object_not_found||o.code===i.NotionApiErrorCode.unauthorized)return yield(0,i.updateIntegrations)({id:i.INTEGRATION_IDS.NOTION_EXPORT,pageId:null,databaseId:null}),void(0,i.showNotionSettings)();(0,i.showToast)({content:`${o.message}`,variant:"error",duration:5e3,uniqueId:"general-error"})}else(0,i.showSomethingWentWrong)()}finally{this.showDotsLoadingSpinner=!1}})}onSendToCapacities(){return d(this,void 0,void 0,function*(){var o,t,r;this.showDotsLoadingSpinner=!0;try{const{db:e,httpFacade:s}=(0,i.useContext)(),[l,n]=yield Promise.all([i.chromeJwtService.getJwtPayload(),(0,i.userHasReachedFreeCapacitiesLimit)()]);if(!(0,i.userCan)("unlimited-send-to-capacities",null!=l?l:null)&&n)return void(0,i.showPremiumDialog)({props:{headline:"You've Hit Your Daily Limit. Upgrade to export unlimited ðŸš€",hideExpiryInfo:!0}});const a=yield(0,i.getCapacitiesToken)(),c=null===(t=null===(o=(yield e.getChromeSettings()).integrations)||void 0===o?void 0:o.find(i.isCapacitiesIntegration))||void 0===t?void 0:t.spaceId;if(a&&c){const o=yield e.getMarksForBookmark(this.bookmark),t=((0,i.exportData)({strategy:"markdown",markdownViewOptions:{hideCoverImage:!0,hideDescription:!0,hideTitle:!0,hideBookmarkTags:!0,showMarkTagsAsHasTag:!0}},this.bookmark,o),yield(0,i.resolveWebHighlightsImportPayloadForBookmark)({bookmark:this.bookmark,spaceId:c})),l=yield s.capacitiesWebhighlightsImport(t);l.id?yield(0,i.updateBookmark)({_id:this.bookmark._id,integrationPages:Object.assign(Object.assign({},null!==(r=this.bookmark.integrationPages)&&void 0!==r?r:{}),{CAPACITIES_EXPORT:{url:`https://app.capacities.io/${c}/${l.id}`,integrationId:i.INTEGRATION_IDS.CAPACITIES_EXPORT,createdAt:Date.now()}})}):(0,i.showSomethingWentWrong)()}else(0,i.showCapacitiesSettings)()}catch(o){if(console.error(o),(0,i.isNotionApiError)(o)){if(o.code===i.NotionApiErrorCode.object_not_found||o.code===i.NotionApiErrorCode.unauthorized)return yield(0,i.updateIntegrations)({id:i.INTEGRATION_IDS.NOTION_EXPORT,pageId:null,databaseId:null}),void(0,i.showCapacitiesSettings)();(0,i.showToast)({content:`${o.message}`,variant:"error",duration:5e3,uniqueId:"general-error"})}else(0,i.showSomethingWentWrong)()}finally{this.showDotsLoadingSpinner=!1}})}get menuItems(){return[{text:"Copy Markdown",icon:"copy-file",callback:()=>this.onCopyMarkdown()},{text:"Copy HTML",icon:"copy-file",callback:()=>this.onCopyHtml()},{text:"Export to PDF file",icon:"file-pdf",callback:()=>this.onPdfDownload()},{text:"Export to HTML file",icon:"file-html",callback:()=>this.onHtmlDownload()},{text:"Export to Notion",icon:"notion",callback:()=>d(this,void 0,void 0,function*(){return this.onSendToNotion()})},{text:"Export to Capacities",icon:"capacities",callback:()=>d(this,void 0,void 0,function*(){return this.onSendToCapacities()})},{text:"Delete Bookmark",color:"#F93F3F",icon:"trash",callback:()=>this.onDeleteBookmark()}]}render(){return this.showDotsLoadingSpinner?e.html`<div role="status" class="loading-spinner">
        <webhighlights-loading .size=${20}></webhighlights-loading>
      </div>`:e.html`<webhighlights-dots-menu
      part="dots-menu"
      class="dots-menu"
      .props=${{items:this.menuItems}}
    ></webhighlights-dots-menu>`}}u.styles=[...n.f,(0,e.unsafeCSS)(c())],h([(0,s.property)()],u.prototype,"bookmark",void 0),h([(0,s.property)({type:Object})],u.prototype,"meta",void 0),h([(0,s.state)()],u.prototype,"showDotsLoadingSpinner",void 0),l.y.define(p,u)},10101:(o,t,r)=>{"use strict";r.d(t,{x:()=>l});var e=r(46195),i=r(45106),s=r(36518);function l(o,t){return(0,e.Tg)(o).pipe((0,s._)(t),(0,i.Q)(t))}},10402:(o,t,r)=>{"use strict";r.d(t,{Z:()=>e});var e=(0,r(24166).L)(function(o){return function(t){o(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(o,t){return t+1+") "+o.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})},14460:(o,t,r)=>{"use strict";function e(o){return"function"==typeof o}r.d(t,{T:()=>e})},14499:(o,t,r)=>{var e=r(27834);e&&e.__esModule&&(e=e.default),o.exports="string"==typeof e?e:e.toString()},14824:(o,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var e=r(36758),i=r.n(e),s=r(40935),l=r.n(s)()(i());l.push([o.id,':host{font-family:var(--wh-font-family);box-sizing:border-box}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.wh-loading-skeleton{color:rgba(0,0,0,0);opacity:.8;animation:1.25s linear 0s infinite normal none running loadingBlinking;background:var(--wh-skeleton-bg);border-radius:4px;position:relative;overflow:hidden}.wh-loading-skeleton::after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, var(--wh-skeleton-bg-hover), transparent);animation:skeleton-shimmer 2s infinite}@keyframes loadingBlinking{0%{background:var(--wh-skeleton-bg)}70%{background:var(--wh-skeleton-bg-hover)}100%{background:var(--wh-skeleton-bg-strong)}}@keyframes skeleton-shimmer{0%{left:-100%}100%{left:100%}}:host>*{width:100%}:host .loading-spinner{margin-top:20px;display:flex;justify-content:center}.infoContainer{font-family:var(--font-family);color:var(--wh-text-light);margin:auto;text-align:center;padding:20px;position:absolute;top:32%;line-height:18px;box-sizing:border-box}.mainInfo{font-size:16px;margin-bottom:15px}.subInfo{font-size:14px;line-height:20px}.infoContainer{position:static !important;position:initial !important}.infoContainer{margin:0 auto;padding:0;max-width:248px;color:var(--wh-text-light)}.mark-overview-container{overflow-y:auto;overflow-x:hidden;height:100%}@media(min-width: 600px){.mark-overview-container::-webkit-scrollbar-track{background:var(--wh-bg-front-strong)}.mark-overview-container::-webkit-scrollbar-thumb{background:var(--wh-border-front-strong);box-shadow:var(--wh-shadow);border-radius:10px}.mark-overview-container::-webkit-scrollbar-thumb:hover{background:var(--wh-border-front-strong)}}webhighlights-mark-element{--bg-color: var(--secondary-dark)}.subAction{margin-top:8px}.subAction.shortcut-overview{margin-top:14px}.subInfo webhighlights-shortcut{display:inline-block}.subInfo webhighlights-shortcut::part(key){background-color:var(--wh-bg-back);color:var(--wh-text-light)}.shortcut-code{background:#000;font-size:14px;letter-spacing:4px;padding:2px 4px;border-radius:4px}.any-mark-focused webhighlights-mark-element{opacity:.5}.any-mark-focused webhighlights-mark-element.focused{opacity:1}',""]);const n=l},15618:(o,t,r)=>{var e=r(29745);e&&e.__esModule&&(e=e.default),o.exports="string"==typeof e?e:e.toString()},17385:(o,t,r)=>{"use strict";r.d(t,{T:()=>l});var e=r(93811),i=r(58354),s=r.n(i);const l=e.css`
  ${(0,e.unsafeCSS)(s())}
`},17826:(o,t,r)=>{var e=r(3941);e&&e.__esModule&&(e=e.default),o.exports="string"==typeof e?e:e.toString()},18045:(o,t,r)=>{"use strict";r.d(t,{T:()=>s});var e=r(22185),i=r(869);function s(o,t){return(0,e.N)(function(r,e){var s=0;r.subscribe((0,i._)(e,function(r){e.next(o.call(t,r,s++))}))})}},19853:(o,t,r)=>{"use strict";var e=r(36774),i=r(38085),s=r(93811),l=r(95665),n=r(30827),a=(r(39344),r(17385)),c=function(o,t,r,e){var i,s=arguments.length,l=s<3?t:null===e?e=Object.getOwnPropertyDescriptor(t,r):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,t,r,e);else for(var n=o.length-1;n>=0;n--)(i=o[n])&&(l=(s<3?i(l):s>3?i(t,r,l):i(t,r))||l);return s>3&&l&&Object.defineProperty(t,r,l),l},h=function(o,t,r,e){return new(r||(r=Promise))(function(i,s){function l(o){try{a(e.next(o))}catch(o){s(o)}}function n(o){try{a(e.throw(o))}catch(o){s(o)}}function a(o){var t;o.done?i(o.value):(t=o.value,t instanceof r?t:new r(function(o){o(t)})).then(l,n)}a((e=e.apply(o,t||[])).next())})};const d=i.SHARED_COMPONENTS_INTERNAL.BookmarkDetailsMain,p=d.TAG;class u extends n.y{constructor(){super(...arguments),this.activeView="notebook",this.isAiChatEnabled=!1,this.components=[i.SHARED_COMPONENTS.PageContentPreview.TAG,i.SHARED_COMPONENTS.AiChat.TAG,i.SHARED_COMPONENTS.Icon.TAG],this._pageContentPreviewProps=new e.YZ(this,{task:()=>h(this,void 0,void 0,function*(){var o,t,r;if(!(null===(o=this.props.bookmark)||void 0===o?void 0:o.url))return null;const e=yield(0,i.useContext)().db.getPageContentForUrl({url:null!==(r=null===(t=this.props.bookmark)||void 0===t?void 0:t.url)&&void 0!==r?r:""});return e?{pageContent:e}:null}),args:()=>[]})}get enabledTabs(){const o=!((0,i.isReaderPage)()&&this.props.isCurrentPageMode||(0,i.isDiscoverFeedUrl)(location.href));return["notebook","reader","ai-chat"].filter(t=>"reader"===t?o:"ai-chat"!==t||this.isAiChatEnabled)}get isTabsViewEnabled(){return this.enabledTabs.length>1}firstUpdated(o){return h(this,void 0,void 0,function*(){this.props.activeTabsView&&this.isTabsViewEnabled&&(this.activeView=this.props.activeTabsView),this.isAiChatEnabled=(yield(0,i.useContext)().serverConfigService.getConfig()).isAiChatEnabled})}onSwitchTab(o){return h(this,void 0,void 0,function*(){"reader"===o&&this._pageContentPreviewProps.run(),this.activeView=o})}get pageContentPreviewProps(){var o,t,r;return(null===(o=this.props.bookmark)||void 0===o?void 0:o.url)?{pageContent:{url:null===(t=this.props.bookmark)||void 0===t?void 0:t.url},isUrlCrawlEnabled:!0,showOverlay:!0,isCurrentPageMode:null!==(r=this.props.isCurrentPageMode)&&void 0!==r&&r}:null}get aiSummaryProps(){return this.props.bookmark?{bookmark:this.props.bookmark}:null}get aiChatProps(){return this.props.bookmark?{_referenceId:this.props.bookmark._id,referenceObjectStore:this.props.bookmark._objectStore}:null}render(){return this.props.bookmark?s.html`
      ${this.isTabsViewEnabled?s.html`
            <div class="bookmark-view-tabs">
              <button
                class="bookmark-view-tab ${"notebook"===this.activeView?"active":""}"
                data-testid=${d.TEST_IDS.NOTEBOOK_TAB}
                @click=${()=>this.onSwitchTab("notebook")}
                type="button"
              >
                <webhighlights-icon
                  icon="${i.ICON_NAMES.notebook}"
                  size="16"
                  stroke-width="1.5"
                  class="bookmark-view-tab-icon"
                ></webhighlights-icon>
                <span class="bookmark-view-tab-label">Notebook</span>
              </button>
              ${this.enabledTabs.includes("reader")?s.html`<button
                    class="bookmark-view-tab ${"reader"===this.activeView?"active":""}"
                    data-testid=${d.TEST_IDS.READER_TAB}
                    @click=${()=>this.onSwitchTab("reader")}
                    type="button"
                  >
                    <webhighlights-icon
                      icon="${i.ICON_NAMES["book-open"]}"
                      size="16"
                      stroke-width="1.5"
                      class="bookmark-view-tab-icon"
                    ></webhighlights-icon>
                    <span class="bookmark-view-tab-label">Reader</span>
                  </button>`:s.html``}
              ${this.enabledTabs.includes("ai-chat")?s.html`<button
                    class="bookmark-view-tab ${"ai-chat"===this.activeView?"active":""}"
                    data-testid=${d.TEST_IDS.AI_CHAT_TAB}
                    @click=${()=>this.onSwitchTab("ai-chat")}
                    type="button"
                  >
                    <webhighlights-icon
                      icon="${i.ICON_NAMES["ai-stars"]}"
                      size="16"
                      stroke-width="1.5"
                      class="bookmark-view-tab-icon"
                    ></webhighlights-icon>
                    <span class="bookmark-view-tab-label">Chat</span>
                  </button>`:s.html``}
            </div>
          `:s.html``}
      ${"notebook"===this.activeView?s.html`
            <webhighlights-ai-summary
              class="ai-summary"
              .props=${this.aiSummaryProps}
            ></webhighlights-ai-summary>
            <webhighlights-bookmark-details-grid
              .props=${this.props}
            ></webhighlights-bookmark-details-grid>
          `:s.html``}
      ${"reader"===this.activeView?s.html`
            <div class="page-content-preview-container">
              <webhighlights-page-content-preview
                class="page-content-preview-element"
                .props=${this.pageContentPreviewProps}
              ></webhighlights-page-content-preview>
            </div>
          `:s.html``}
      ${"ai-chat"===this.activeView?s.html`
            <div class="ai-chat-container">
              <webhighlights-ai-chat
                class="ai-chat-element"
                .props=${this.aiChatProps}
              ></webhighlights-ai-chat>
            </div>
          `:s.html``}
    `:s.html``}}u.styles=a.T,c([(0,l.property)()],u.prototype,"props",void 0),c([(0,l.state)()],u.prototype,"activeView",void 0),c([(0,l.state)()],u.prototype,"isAiChatEnabled",void 0),n.y.define(p,u)},20533:(o,t,r)=>{"use strict";r.d(t,{f:()=>i});var e=r(85608),i={setTimeout:function(o,t){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var l=i.delegate;return(null==l?void 0:l.setTimeout)?l.setTimeout.apply(l,(0,e.fX)([o,t],(0,e.zs)(r))):setTimeout.apply(void 0,(0,e.fX)([o,t],(0,e.zs)(r)))},clearTimeout:function(o){var t=i.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(o)},delegate:void 0}},21166:(o,t,r)=>{"use strict";r.d(t,{w:()=>e});var e=new(r(61824).c)(function(o){return o.complete()})},21235:(o,t,r)=>{"use strict";r.d(t,{Ms:()=>v,vU:()=>p});var e=r(85608),i=r(14460),s=r(71868),l=r(30747),n=r(43585),a=r(62508),c=r(51998),h=r(20533),d=r(7861),p=function(o){function t(t){var r=o.call(this)||this;return r.isStopped=!1,t?(r.destination=t,(0,s.Uv)(t)&&t.add(r)):r.destination=k,r}return(0,e.C6)(t,o),t.create=function(o,t,r){return new v(o,t,r)},t.prototype.next=function(o){this.isStopped?f((0,c.ro)(o),this):this._next(o)},t.prototype.error=function(o){this.isStopped?f((0,c.A2)(o),this):(this.isStopped=!0,this._error(o))},t.prototype.complete=function(){this.isStopped?f(c.M7,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,o.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(o){this.destination.next(o)},t.prototype._error=function(o){try{this.destination.error(o)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(s.yU),u=Function.prototype.bind;function g(o,t){return u.call(o,t)}var m=function(){function o(o){this.partialObserver=o}return o.prototype.next=function(o){var t=this.partialObserver;if(t.next)try{t.next(o)}catch(o){b(o)}},o.prototype.error=function(o){var t=this.partialObserver;if(t.error)try{t.error(o)}catch(o){b(o)}else b(o)},o.prototype.complete=function(){var o=this.partialObserver;if(o.complete)try{o.complete()}catch(o){b(o)}},o}(),v=function(o){function t(t,r,e){var s,n,a=o.call(this)||this;return(0,i.T)(t)||!t?s={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=e?e:void 0}:a&&l.$.useDeprecatedNextContext?((n=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},s={next:t.next&&g(t.next,n),error:t.error&&g(t.error,n),complete:t.complete&&g(t.complete,n)}):s=t,a.destination=new m(s),a}return(0,e.C6)(t,o),t}(p);function b(o){l.$.useDeprecatedSynchronousErrorHandling?(0,d.l)(o):(0,n.m)(o)}function f(o,t){var r=l.$.onStoppedNotification;r&&h.f.setTimeout(function(){return r(o,t)})}var k={closed:!0,next:a.l,error:function(o){throw o},complete:a.l}},21601:(o,t,r)=>{"use strict";function e(o,t){if(o){var r=o.indexOf(t);0<=r&&o.splice(r,1)}}r.d(t,{o:()=>e})},22185:(o,t,r)=>{"use strict";r.d(t,{N:()=>i});var e=r(14460);function i(o){return function(t){if(function(o){return(0,e.T)(null==o?void 0:o.lift)}(t))return t.lift(function(t){try{return o(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}},23330:(o,t,r)=>{"use strict";r.d(t,{l:()=>s});var e=r(59805),i=r(14460);function s(o){return(0,i.T)(o[e.s])}},24166:(o,t,r)=>{"use strict";function e(o){var t=o(function(o){Error.call(o),o.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}r.d(t,{L:()=>e})},24254:(o,t,r)=>{"use strict";function e(o){return o}r.d(t,{D:()=>e})},24611:(o,t,r)=>{"use strict";r.d(t,{E:()=>i});var e=r(92257),i=new(r(97042).q)(e.R)},25361:(o,t,r)=>{"use strict";r.d(t,{lI:()=>i});var e=r(61867);function i(o){return(0,e.m)((t=o)[t.length-1])?o.pop():void 0;var t}},26691:(o,t,r)=>{"use strict";r.d(t,{y:()=>i});var e=r(14460);function i(o){return(0,e.T)(null==o?void 0:o.then)}},27834:(o,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var e=r(36758),i=r.n(e),s=r(40935),l=r.n(s)()(i());l.push([o.id,'.wh-loading-skeleton{color:rgba(0,0,0,0);opacity:.8;animation:1.25s linear 0s infinite normal none running loadingBlinking;background:var(--wh-skeleton-bg);border-radius:4px;position:relative;overflow:hidden}.wh-loading-skeleton::after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, var(--wh-skeleton-bg-hover), transparent);animation:skeleton-shimmer 2s infinite}@keyframes loadingBlinking{0%{background:var(--wh-skeleton-bg)}70%{background:var(--wh-skeleton-bg-hover)}100%{background:var(--wh-skeleton-bg-strong)}}@keyframes skeleton-shimmer{0%{left:-100%}100%{left:100%}}:host{font-family:var(--wh-font-family);box-sizing:border-box}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host{font-family:var(--wh-font-family);box-sizing:border-box}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.primary-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;background:var(--wh-primary-700);text-decoration:none}.primary-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.primary-btn:not(:disabled):hover{background:var(--wh-primary-600)}.secondary-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;background:var(--wh-gray-50);border:.5px solid rgba(47,50,55,.2392156863);background:var(--wh-gray-50);color:var(--wh-gray-600)}.secondary-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.primary-text-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;color:#fff;background:var(--secondary-dark);border:1px solid var(--wh-primary-600)}.primary-text-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.chrome-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;padding:0;background:var(--wh-primary-600);box-shadow:0px 2px 1px -1px rgba(var(--wh-primary-600), 0.6),0 1px 1px 0 rgba(var(--wh-primary-600), 0.341),0 1px 3px 0 rgba(var(--wh-primary-600), 0.322)}.chrome-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.chrome-btn a{text-decoration:none;padding:10px 20px;line-height:40px;color:#fff}.chrome-btn:hover{background:var(--wh-primary-600);transition:all .2s ease;transform:scale(1.03)}:host{font-family:var(--wh-font-family);display:flex;flex-direction:column;width:95%;width:var(--wh-content-container-max-width, 95%);background-color:var(--wh-bg-base);color:var(--wh-text);margin:0 auto;--wh-preview-element-gradient-overlay: rgba(0, 0, 0, 0.5)}.bookmark-preview-sub-toolbar{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;gap:2px;padding:var(--bookmark-details-header-padding)}.integration-pages-container{display:flex;align-items:center;gap:2px}.integration-link-container{background:var(--wh-preview-element-gradient-overlay);border-radius:4px}.open-page-btn{border:none;background:none;border-radius:4px;cursor:pointer;text-decoration:none;display:flex;font-family:var(--wh-font-family);transition:all .1s ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1;color:var(--wh-gray-200);fill:var(--wh-gray-200);-moz-column-gap:2px;column-gap:2px;font-size:calc(var(--wh-font-size) - 2px);padding:4px 6px;width:-moz-fit-content;width:fit-content;display:flex;align-items:center;background:rgba(0,0,0,0)}.open-page-btn:hover{background:var(--wh-primary-color-transparent)}.tags{display:block}',""]);const n=l},28032:(o,t,r)=>{"use strict";r.d(t,{P:()=>e});var e=(0,r(24166).L)(function(o){return function(){o(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},29745:(o,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var e=r(36758),i=r.n(e),s=r(40935),l=r.n(s)()(i());l.push([o.id,'.wh-loading-skeleton{color:rgba(0,0,0,0);opacity:.8;animation:1.25s linear 0s infinite normal none running loadingBlinking;background:var(--wh-skeleton-bg);border-radius:4px;position:relative;overflow:hidden}.wh-loading-skeleton::after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, var(--wh-skeleton-bg-hover), transparent);animation:skeleton-shimmer 2s infinite}@keyframes loadingBlinking{0%{background:var(--wh-skeleton-bg)}70%{background:var(--wh-skeleton-bg-hover)}100%{background:var(--wh-skeleton-bg-strong)}}@keyframes skeleton-shimmer{0%{left:-100%}100%{left:100%}}:host{font-family:var(--wh-font-family);box-sizing:border-box}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}@keyframes slide-in-from-top{0%{transform:translateY(-20%)}100%{transform:translateY(0%)}}@keyframes slide-out{0%{transform:translateX(0%)}100%{transform:translateX(-100%)}}@keyframes slide-out-to-left{0%{transform:translateX(0%);opacity:1}100%{transform:translateX(-100%);opacity:0}}@keyframes slide-out-to-right{0%{transform:translateX(0%);opacity:1}100%{transform:translateX(100%);opacity:0}}@keyframes slide-in-from-left{0%{transform:translateX(-100%)}100%{transform:translateX(0%)}}@keyframes slide-in-from-right{0%{transform:translateX(100%)}100%{transform:translateX(0%)}}@keyframes slide-in-from-top{0%{transform:translateY(-20%)}100%{transform:translateY(0%)}}.pulsate-fwd{animation:pulsate-fwd .7s ease-in-out infinite both}@keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.5)}100%{transform:scale(1)}}:host{width:100%;max-width:100%;height:100%;color:var(--wh-text);display:flex;font-family:var(--font-family);container-type:inline-size;background-color:var(--wh-bg-base);overflow:auto;overflow-x:hidden}@media(min-width: 600px){:host::-webkit-scrollbar-track{background:var(--wh-bg-front-strong)}:host::-webkit-scrollbar-thumb{background:var(--wh-border-front-strong);box-shadow:var(--wh-shadow);border-radius:10px}:host::-webkit-scrollbar-thumb:hover{background:var(--wh-border-front-strong)}}.header{display:flex;flex-direction:column;gap:4px}webhighlights-loading{margin:auto}.bookmark-details-container{width:100%;display:flex;flex-direction:column;gap:4px;--wh-content-container-max-width: 95%}.content-container{padding-top:0 !important}.content-container{padding:0 0;width:95%;width:var(--wh-content-container-max-width, 95%);max-width:100%;margin:0 auto;transition-property:width,transform;transition-duration:270ms;transition-timing-function:ease;box-sizing:border-box;flex:1;display:flex;flex-direction:column;--wh-blockquote-line-height: 1.5}.content-container header{padding:var(--bookmark-details-header-padding)}.content-container main{padding:var(--bookmark-details-main-padding);display:flex;flex-direction:column;flex:1}.content-container main webhighlights-bookmark-details-main{display:flex;flex-direction:column;flex:1}.slide-in{animation:.25s slide-in-from-left}webhighlights-favicon{margin-top:10px}webhighlights-favicon a{color:var(--link-color);text-decoration:none}webhighlights-favicon a:hover{text-decoration:underline}webhighlights-favicon::part(image){border-color:rgba(226,226,226,.2)}webhighlights-favicon:hover::part(image){border-color:rgba(226,226,226,.4)}@container (min-width: 400px){.bookmark-details-container{--wh-content-container-max-width: 380px}.content-container{--wh-font-size: 14px}}@container (min-width: 500px){.bookmark-details-container{--wh-content-container-max-width: 480px}.cover-container-overlay-content{padding:6px 0}.open-reader-btn::part(button){padding:6px 10px;font-size:12px}}@container (min-width: 600px){.content-container{--wh-font-size: 14px}}@container (min-width: 700px){.bookmark-details-container{--wh-content-container-max-width: 600px}}@container (min-width: 900px){.content-container{--wh-font-size: 15px}}@container (min-width: 1200px){.bookmark-details-container{--wh-content-container-max-width: 700px}}@media(max-width: 767px){:host{--wh-font-size: 15px}}',""]);const n=l},29773:(o,t,r)=>{"use strict";r.d(t,{r:()=>i});var e=r(85608),i=function(o){function t(t,r){return o.call(this)||this}return(0,e.C6)(t,o),t.prototype.schedule=function(o,t){return void 0===t&&(t=0),this},t}(r(71868).yU)},30747:(o,t,r)=>{"use strict";r.d(t,{$:()=>e});var e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30827:(o,t,r)=>{"use strict";r.d(t,{y:()=>s});var e=r(38085),i=r(93811);class s extends i.LitElement{constructor(){super(...arguments),this.components=[],this.subscriptions=[]}connectedCallback(){super.connectedCallback(),(0,e.lazyDefine)(this.components)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe()}unsubscribe(){this.subscriptions.forEach(o=>{o.unsubscribe()})}static define(o,t,r){(0,e.defineWebHighlightsElement)(o,t,r)}}},31604:(o,t,r)=>{"use strict";r.d(t,{X:()=>e});var e=function(o){return o&&"number"==typeof o.length&&"function"!=typeof o}},35315:(o,t,r)=>{"use strict";r.d(t,{H:()=>s});var e=r(55034),i=r(46195);function s(o,t){return t?(0,e.c)(o,t):(0,i.Tg)(o)}},36518:(o,t,r)=>{"use strict";r.d(t,{_:()=>i});var e=r(22185);function i(o,t){return void 0===t&&(t=0),(0,e.N)(function(r,e){e.add(o.schedule(function(){return r.subscribe(e)},t))})}},36758:o=>{"use strict";o.exports=function(o){return o[1]}},36774:(o,t,r)=>{"use strict";r.d(t,{YZ:()=>e.YZ});var e=r(57929)},38085:o=>{"use strict";o.exports=WebHighlightsSharedLibExternal},39344:(o,t,r)=>{"use strict";var e=r(38085),i=r(93811),s=r(95665),l=r(30827),n=r(71882),a=(r(39674),r(75926)),c=function(o,t,r,e){var i,s=arguments.length,l=s<3?t:null===e?e=Object.getOwnPropertyDescriptor(t,r):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,t,r,e);else for(var n=o.length-1;n>=0;n--)(i=o[n])&&(l=(s<3?i(l):s>3?i(t,r,l):i(t,r))||l);return s>3&&l&&Object.defineProperty(t,r,l),l},h=function(o,t,r,e){return new(r||(r=Promise))(function(i,s){function l(o){try{a(e.next(o))}catch(o){s(o)}}function n(o){try{a(e.throw(o))}catch(o){s(o)}}function a(o){var t;o.done?i(o.value):(t=o.value,t instanceof r?t:new r(function(o){o(t)})).then(l,n)}a((e=e.apply(o,t||[])).next())})};const d=e.SHARED_COMPONENTS_INTERNAL.BookmarkDetailsGrid,p=d.TAG;class u extends l.y{constructor(){super(...arguments),this.marks=null,this.loading=!0,this.focusedMarkId="",this.chromeSettings=e.fallbackChromeSettings,this.draggedMarkId=null,this.draggedOverMarkIndex=null,this.components=[e.SHARED_COMPONENTS.Icon.TAG,e.SHARED_COMPONENTS.MarkElement.TAG,e.SHARED_COMPONENTS.MarkPreview.TAG],this.renderDragoverTemplate=o=>{if(o===this.draggedMarkIndex||o-1===this.draggedMarkIndex)return i.html``;const t="number"==typeof this.draggedOverMarkIndex&&o-1===this.draggedOverMarkIndex,r=this.draggedMarkId&&t&&o!==this.draggedMarkIndex;return i.html`<div
      style="${r?"height: 40px;":"height: 0;"}"
      class="index-${o} dragover-place ${this.draggedMarkId?"active":""}"
      @dragover=${o=>{o.preventDefault()}}
      @dragenter=${t=>this.onDragEnterDropbox(t,o)}
      @dragleave=${o=>this.onDragLeaveDropbox(o)}
      @drop=${t=>this.onDropElement(t,o)}
    ></div>`}}firstUpdated(o){this.initListeners(),this.loadData()}loadData(){return h(this,void 0,void 0,function*(){this.loading=!0;try{yield Promise.all([this.loadMarks(),this.loadChromeSettings()]),this.props.focusedMarkId&&setTimeout(()=>{var o;this.scrollToMark({_id:null!==(o=this.props.focusedMarkId)&&void 0!==o?o:""})},0)}catch(o){}finally{this.loading=!1}})}initListeners(){this.unsubscribe(),this.subscriptions=[e.notifications.subscribe("serverUpdateDone",this.onServerUpdateDone.bind(this)),e.notifications.subscribe("addedMark",this.onAddedMark.bind(this)),e.notifications.subscribe("updatedMark",this.updatedMark.bind(this)),e.notifications.subscribe("deletedMark",this.deletedMark.bind(this)),e.notifications.subscribe("deletedMarks",this.deletedMarks.bind(this)),e.notifications.subscribe("clickOnHighlight",this.clickOnHighlightListener.bind(this)),e.notifications.subscribe("updatedChromeSettings",this.onUpdatedChromeSettings.bind(this))]}onServerUpdateDone(){return h(this,void 0,void 0,function*(){yield this.loadData()})}loadChromeSettings(){return h(this,void 0,void 0,function*(){const{db:o}=(0,e.useContext)();this.chromeSettings=yield o.getChromeSettings()})}loadMarks(){return h(this,void 0,void 0,function*(){var o,t;const{db:r}=(0,e.useContext)();(null===(o=this.props.bookmark)||void 0===o?void 0:o._id)&&(this.marks=yield r.getMarksForBookmark({_id:null===(t=this.props.bookmark)||void 0===t?void 0:t._id}))})}get bookmarkWasJustCreated(){var o,t;return Date.now()-(null!==(t=null===(o=this.props.bookmark)||void 0===o?void 0:o.createdAt)&&void 0!==t?t:1/0)<1e3}onUpdatedChromeSettings(o){this.chromeSettings=o.detail}onAddedMark(o){var t,r;(null===(t=this.props.bookmark)||void 0===t?void 0:t._id)===o.detail._bookmark&&(this.marks=[...null!==(r=this.marks)&&void 0!==r?r:[],o.detail])}updatedMark(o){var t,r,e;if((null===(t=this.props.bookmark)||void 0===t?void 0:t._id)!==o.detail._bookmark)return;const i=o.detail;this.marks=null!==(e=null===(r=this.marks)||void 0===r?void 0:r.map(o=>o._id===i._id?i:o))&&void 0!==e?e:[]}deletedMark(o){var t,r;const e=o.detail._id;this.marks=null!==(r=null===(t=this.marks)||void 0===t?void 0:t.filter(o=>o._id!==e))&&void 0!==r?r:[]}deletedMarks(o){var t,r;const e=o.detail;this.marks=null!==(r=null===(t=this.marks)||void 0===t?void 0:t.filter(o=>!e.some(t=>t._id===o._id)))&&void 0!==r?r:[]}clickOnHighlightListener({detail:o}){o._id&&this.scrollToMark({_id:o._id})}scrollToMark({_id:o},t=!0){var r;if(!(null===(r=this.marks)||void 0===r?void 0:r.some(t=>t._id===o)))return;t&&(this.focusedMarkId=null!=o?o:"");const e=this.queryMarkElement(o);e&&setTimeout(()=>{var o,r;if(null===(r=null===(o=null==e?void 0:e.shadowRoot)||void 0===o?void 0:o.firstElementChild)||void 0===r||r.scrollIntoView({behavior:"auto",block:"center"}),t){const o=()=>{this.focusedMarkId="",document.body.onclick=null,document.body.removeEventListener("click",o)};document.body.addEventListener("click",o)}},100)}queryMarkElement(o){var t;return null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(`[${e.CONSTANTS.markIdAttrKey}="${o}"`)}get anyMarkFocused(){var o;return this.focusedMarkId&&(null===(o=this.marks)||void 0===o?void 0:o.some(o=>o._id===this.focusedMarkId))}get showLoadingSkeleton(){return this.loading&&!this.bookmarkWasJustCreated}get sortedMarks(){var o;return(0,e.sortMarksOfBookmark)(null!==(o=this.marks)&&void 0!==o?o:[],this.props.bookmark)}shouldSortCompleteUpOrDown(){return e.keyPressHandler.isKeyPressed("Shift")}onSortUp(o,t){this.updateIndexOfMark(o,Math.max(this.shouldSortCompleteUpOrDown()?0:t-1,0))}onSortDown(o,t){var r,e;const i=null!==(e=null===(r=this.marks)||void 0===r?void 0:r.length)&&void 0!==e?e:0;this.updateIndexOfMark(o,Math.min(this.shouldSortCompleteUpOrDown()?i:t+2,i))}updateIndexOfMark(o,t){const r=this.shouldSortCompleteUpOrDown();if(!this.marks)return;const i=[...this.sortedMarks],s=i.indexOf(o);-1!==s&&i.splice(s,1);const l=s<t,n=Math.max(t-(l?1:0),0);i.splice(n,0,o);const a={};this.marks.forEach(o=>{const t=i.findIndex(t=>t._id===o._id);t>=0&&(a[o._id]=t)}),this.props.bookmark&&(0,e.updateBookmark)({_id:this.props.bookmark._id,marksSortIndexMap:a}).then(()=>{r&&setTimeout(()=>{this.scrollToMark({_id:o._id},!1)},0)}).catch(console.error)}onDragStart(o,t){this.draggedMarkId=t._id,this.queryMarkElement(t._id),this.handleScrollingWhenDraggingEdge(o)}handleScrollingWhenDraggingEdge(o){const t=window.innerHeight/2,r=o.clientY,i=Math.abs(r-t)/100,s=r>t?"down":"up";e.notifications.dispatch("scrollInBookmarkDetails",{detail:{stepY:"down"==s?i:-1*i,behavior:"auto"}})}onDragEnd(o){this.draggedMarkId=null,this.draggedOverMarkIndex=null}onDragEnterDropbox(o,t){o.preventDefault(),o.target.classList.add("dragged-over"),o.dataTransfer&&(o.dataTransfer.dropEffect="copy")}onDragLeaveDropbox(o){o.target.classList.remove("dragged-over")}onDragOver(o,t){if(this.draggedMarkIndex===t)return void(this.draggedOverMarkIndex=null);const r=o.target.getBoundingClientRect(),e=o.clientY,i=r.y,s=r.height,l=e>Math.round(i+s/2);l&&(this.draggedOverMarkIndex=t),l||this.draggedMarkIndex===t-1||(this.draggedOverMarkIndex=t-1)}onDropElement(o,t){if(!this.marks)return;if(void 0===this.draggedMarkIndex)return void console.warn("Drop event not fired because 'draggedMarkIndex' is undefined.");const r=this.marks[this.draggedMarkIndex];if(!r)return void console.warn("Drop event not fired because 'draggedMark' is falsy.",r);const i=this.marks[t],s=this.marks[t-1];if(!i&&!s)return void console.warn("Drop event not fired because 'droppedAfterMark' and 'droppedBeforeMark'  is falsy.");const l=[...this.sortedMarks],n=l.indexOf(r);-1!==n&&l.splice(n,1);const a=n<t,c=Math.max(t-(a?1:0),0);l.splice(c,0,r);const h={};this.marks.forEach(o=>{const t=l.findIndex(t=>t._id===o._id);t>=0&&(h[o._id]=t)}),this.props.bookmark&&(0,e.updateBookmark)({_id:this.props.bookmark._id,marksSortIndexMap:h}).catch(console.error)}get draggedMarkIndex(){var o;return null===(o=this.marks)||void 0===o?void 0:o.findIndex(o=>o._id===this.draggedMarkId)}render(){var o,t,r,s,l,n,a;const c=(null!==(t=null===(o=this.marks)||void 0===o?void 0:o.length)&&void 0!==t?t:0)>1,h=0===(null===(r=this.marks)||void 0===r?void 0:r.length)&&!this.showLoadingSkeleton;return i.html`
      <div
        class="grid-container ${this.draggedMarkId?"drag-active":""} ${h?"empty":""} ${this.anyMarkFocused?"any-mark-focused":""}"
      >
        ${h?i.html`<div
              class="empty-state"
              data-testid=${d.TEST_IDS.EMPTY_STATE}
            >
              ${this.props.isCurrentPageMode?i.html`<webhighlights-overview-empty-state></webhighlights-overview-empty-state>`:i.html`
                    <div class="empty-state-content">
                      <webhighlights-icon
                        class="empty-state-icon"
                        icon="${e.ICON_NAMES["book-open"]}"
                        size="32"
                      ></webhighlights-icon>
                      <h2>No highlights yet</h2>
                      <p>
                        Open in reader or
                        ${(null===(s=this.props.bookmark)||void 0===s?void 0:s.url)?i.html`<a
                              href="${null===(l=this.props.bookmark)||void 0===l?void 0:l.url}"
                              target="_blank"
                              >visit the page</a
                            >`:i.html`visit the page`}
                        using our
                        <a
                          href="${null===(n=(0,e.useContextWithCatch)())||void 0===n?void 0:n.environment.WEBSITE_URL}/install"
                          target="_blank"
                          >browser add-on</a
                        >
                        to add highlights.
                      </p>
                    </div>
                  `}
            </div>`:i.html``}
        ${this.showLoadingSkeleton?i.html`${[...Array(8).keys()].map(()=>i.html`<div class="grid-item loading-skeleton">
                  <div class="wh-loading-skeleton"></div>
                </div>`)}`:i.html`
              ${null===(a=this.sortedMarks)||void 0===a?void 0:a.map((o,t)=>{var r,s,l;const n=this.focusedMarkId===o._id,a=t+1===(null===(r=this.marks)||void 0===r?void 0:r.length),h=this.draggedMarkId===o._id?"dragged":"";return i.html`
                  <article class="mark-element-container ${h}">
                    ${this.renderDragoverTemplate(t)}
                    ${c?i.html`
                          <button
                            class="drag-btn ${h}"
                            draggable=${!this.props.readOnly}
                            @drag=${t=>this.onDragStart(t,o)}
                            @dragend=${this.onDragEnd}
                          >
                            <webhighlights-icon
                              size="14"
                              icon="${e.ICON_NAMES.dragDots}"
                            ></webhighlights-icon>
                          </button>
                          ${0===t?i.html``:i.html`
                                <button
                                  class="sort-btn up"
                                  @click=${()=>this.onSortUp(o,t)}
                                >
                                  <sl-tooltip
                                    placement="left"
                                    content="Shift-click to move to top."
                                    distance="2"
                                  >
                                    <webhighlights-icon
                                      size="${"11"}"
                                      style="transform: rotate(-90deg);"
                                      icon="${e.ICON_NAMES["arrow-right"]}"
                                    ></webhighlights-icon>
                                  </sl-tooltip>
                                </button>
                              `}
                          ${a?i.html``:i.html`
                                <button
                                  class="sort-btn down"
                                  @click=${()=>this.onSortDown(o,t)}
                                  ?disabled=${a}
                                >
                                  <sl-tooltip
                                    placement="left"
                                    content="Shift-click to move to bottom."
                                    distance="2"
                                  >
                                    <webhighlights-icon
                                      size="${"11"}"
                                      style="transform: rotate(90deg);"
                                      icon="${e.ICON_NAMES["arrow-right"]}"
                                    ></webhighlights-icon>
                                  </sl-tooltip>
                                </button>
                              `}
                        `:i.html``}

                    <webhighlights-mark-element
                      class="grid-item ${h} ${n?"focused":""}"
                      .showDeleteBtn=${!this.props.readOnly}
                      .mark=${o}
                      .chromeSettings=${this.chromeSettings}
                      .readOnly=${null!==(s=this.props.readOnly)&&void 0!==s&&s}
                      @dragover=${o=>{this.onDragOver(o,t)}}
                      markid=${o._id}
                      media-type=${null!==(l=o.mediaType)&&void 0!==l?l:e.DEFAULT_MEDIA_TYPE}
                      .isFocusedMark=${n}
                      .isCurrentPageMode=${!!this.props.isCurrentPageMode}
                      >${o.text}</webhighlights-mark-element
                    >
                    ${a||!(0,e.isBlockQuoteMark)(o)?i.html``:i.html`<div class="divider"></div>`}
                    ${a?this.renderDragoverTemplate(t+1):i.html``}
                  </article>
                `})}
            `}
      </div>
    `}}u.styles=[a.T,...n.f],c([(0,s.property)()],u.prototype,"props",void 0),c([(0,s.state)()],u.prototype,"marks",void 0),c([(0,s.state)()],u.prototype,"loading",void 0),c([(0,s.state)()],u.prototype,"focusedMarkId",void 0),c([(0,s.state)()],u.prototype,"chromeSettings",void 0),c([(0,s.state)()],u.prototype,"draggedMarkId",void 0),c([(0,s.state)()],u.prototype,"draggedOverMarkIndex",void 0),l.y.define(p,u)},39674:(o,t,r)=>{"use strict";var e=r(36774),i=r(38085),s=r(93811),l=r(30827);const n=i.SHARED_COMPONENTS_INTERNAL.MarkOverviewEmptyState,a=r(56077),c=o=>"highlight-text"===o.name;class h extends l.y{constructor(){super(...arguments),this.components=[i.SHARED_COMPONENTS.Loading.TAG,i.SHARED_COMPONENTS.Shortcut.TAG],this._commandsData=new e.YZ(this,{task:()=>{return o=this,t=void 0,e=function*(){const o=yield i.chromeMessageService.readCommands(),t=(0,i.useContext)().appConfig.appType===i.AppType.highlighter?{"highlight-last-format":1,"toggle-sidebar":2,"toggle-bookmark":3,"highlight-text":0,"open-in-reader":4}:{"highlight-text":0,"open-in-reader":1,"toggle-sidebar":2,"highlight-last-format":3,"toggle-bookmark":4},r=o.sort((o,r)=>t[o.name]-t[r.name]);return{sortedCommands:r,highlightShortcut:r.find(c)}},new((r=void 0)||(r=Promise))(function(i,s){function l(o){try{a(e.next(o))}catch(o){s(o)}}function n(o){try{a(e.throw(o))}catch(o){s(o)}}function a(o){var t;o.done?i(o.value):(t=o.value,t instanceof r?t:new r(function(o){o(t)})).then(l,n)}a((e=e.apply(o,t||[])).next())});var o,t,r,e},args:()=>[]})}render(){return this._commandsData.render({pending:()=>s.html`<webhighlights-loading></webhighlights-loading>`,complete:({sortedCommands:o,highlightShortcut:t})=>s.html`
        <div class="infoContainer">
          <div class="subInfo">
            <span
              >${(0,i.shouldShowShortcuts)(location.href)?s.html`Select some text, right-click, or use
                    <webhighlights-shortcut
                      .command=${t}
                    ></webhighlights-shortcut>
                    to highlight.`:s.html`Select some text and choose a color from the popup to
                  highlight.`}
            </span>
          </div>
          <div class="subAction shortcut-overview">
            <webhighlights-shortcut-overview
              .commands=${o}
            ></webhighlights-shortcut-overview>
          </div>
        </div>
      `})}}h.styles=s.css`
    ${(0,s.unsafeCSS)(a)}
  `,l.y.define(n.TAG,h)},40935:o=>{"use strict";o.exports=function(o){var t=[];return t.toString=function(){return this.map(function(t){var r="",e=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),e&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=o(t),e&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r}).join("")},t.i=function(o,r,e,i,s){"string"==typeof o&&(o=[[null,o,void 0]]);var l={};if(e)for(var n=0;n<this.length;n++){var a=this[n][0];null!=a&&(l[a]=!0)}for(var c=0;c<o.length;c++){var h=[].concat(o[c]);e&&l[h[0]]||(void 0!==s&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=s),r&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=r):h[2]=r),i&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=i):h[4]="".concat(i)),t.push(h))}},t}},42175:(o,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var e=r(36758),i=r.n(e),s=r(40935),l=r.n(s)()(i());l.push([o.id,":host{font-family:var(--wh-font-family);color:var(--wh-text)}.dots-menu{--dots-size: 20px;font-size:14px}.dots-menu::part(dots-menu-btn){padding:calc(4px - 2px);padding:calc(var(--wh-action-btn-padding, 4px) - 2px)}.dots-menu::part(dots-menu-btn):hover{background:var(--wh-primary-color-transparent)}.loading-spinner{padding:2px}",""]);const n=l},42737:(o,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var e=r(36758),i=r.n(e),s=r(40935),l=r.n(s)()(i());l.push([o.id,':host{font-family:var(--wh-font-family);box-sizing:border-box}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.bookmark-view-tabs{display:flex;border-bottom:1px solid #444851;border-bottom:1px solid var(--wh-border-base, #444851);margin:var(--bookmark-details-header-padding);box-sizing:border-box}.ai-summary::part(ai-summary){display:flex;margin:var(--bookmark-details-header-padding);margin-top:6px;box-sizing:border-box}.bookmark-view-tab{display:flex;align-items:center;gap:6px;background:rgba(0,0,0,0);border:none;border-radius:0;padding:8px 12px;font-size:14px;font-weight:500;color:var(--wh-text-strongest);cursor:pointer;transition:color .2s;outline:none;position:relative;min-width:70px;opacity:.6;transition:opacity .2s ease-in-out}.bookmark-view-tab .bookmark-view-tab-icon::part(icon){color:var(--wh-text-strongest) !important}.bookmark-view-tab.active,.bookmark-view-tab:hover{opacity:1}.bookmark-view-tab.active::after{content:"";position:absolute;bottom:0;left:0;right:0;height:2px;background:var(--wh-text-strongest);border-radius:1px}.bookmark-view-tab-label{margin-left:2px}.page-content-preview-container{padding-top:8px;padding-bottom:48px;overflow:hidden;--wh-reader-font-size: calc(var(--wh-font-size, 14px) + 2px)}.page-content-preview-container .page-content-preview-element::part(reader){padding:var(--bookmark-details-header-padding)}.ai-chat-container{display:flex;flex-direction:column;flex:1;padding:8px 0 16px 0;overflow:hidden;--wh-reader-font-size: calc(var(--wh-font-size, 14px) + 2px)}.ai-chat-container .ai-chat-element{display:flex;flex-direction:column;flex:1}',""]);const n=l},43100:(o,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var e=r(36758),i=r.n(e),s=r(40935),l=r.n(s)()(i());l.push([o.id,'.wh-loading-skeleton{color:rgba(0,0,0,0);opacity:.8;animation:1.25s linear 0s infinite normal none running loadingBlinking;background:var(--wh-skeleton-bg);border-radius:4px;position:relative;overflow:hidden}.wh-loading-skeleton::after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, var(--wh-skeleton-bg-hover), transparent);animation:skeleton-shimmer 2s infinite}@keyframes loadingBlinking{0%{background:var(--wh-skeleton-bg)}70%{background:var(--wh-skeleton-bg-hover)}100%{background:var(--wh-skeleton-bg-strong)}}@keyframes skeleton-shimmer{0%{left:-100%}100%{left:100%}}.grid-container:not(.empty){padding-top:8px;padding-bottom:48px}.grid-container.drag-active .drag-toolbar,.grid-container.drag-active .sort-toolbar{opacity:0 !important}.grid-item{display:block;padding:var(--bookmark-details-grid-item-padding);box-sizing:border-box;transition:.2s ease-in-out;--blockquote-mark-color: var(--wh-text-light);cursor:default}.grid-item.dragged{cursor:grabbing !important}.grid-item .wh-loading-skeleton{width:100%;height:100%}.grid-item:hover:not(.loading-skeleton){--blockquote-mark-color: var(--wh-text);background-color:var(--wh-bg-base-hover)}.grid-item.loading-skeleton{margin-top:8px;height:32px}.any-mark-focused .grid-item{opacity:.5}.any-mark-focused .grid-item.focused{opacity:1;--blockquote-mark-color: var(--wh-text);background-color:var(--wh-bg-base-hover)}.divider{border-top:.1px solid var(--wh-border-base);margin:2px 0}.mark-element-container{position:relative}.mark-element-container.dragged{cursor:grabbing;opacity:.2}.mark-element-container.dragged::part(header-toolbar){display:none}.mark-element-container.dragged::part(container){cursor:grabbing}.mark-element-container:hover .sort-btn{opacity:.8}.mark-element-container:hover .drag-btn{opacity:1}.mark-element-container .drag-btn,.mark-element-container .sort-btn{position:absolute;background:none;border:none;outline:none;color:var(--wh-text-lightest);opacity:0;transition:all .3s ease-in-out;z-index:2;cursor:pointer}.mark-element-container .drag-btn:hover,.mark-element-container .sort-btn:hover{opacity:1;color:var(--wh-text);border-radius:4px}.mark-element-container .sort-btn{right:0;right:var(--bookmark-details-sort-btn-right-position, 0)}.mark-element-container .sort-btn:hover{opacity:1}.mark-element-container .sort-btn.up{top:2px}.mark-element-container .sort-btn.down{bottom:2px}.mark-element-container .drag-btn{top:2px;cursor:grab;padding:4px 0px;left:-2px;left:var(--bookmark-details-drag-btn-left-position, -2px)}.mark-element-container .drag-btn.dragged{cursor:grabbing}.mark-element-container .drag-btn:hover{background:var(--wh-bg-back-hover-strong)}.dragover-place{height:0;background:gray;opacity:.1;transition:.2s all ease-in-out;border-radius:8px;cursor:grabbing}.dragover-place.active{border:1px dashed var(--wh-text)}.dragover-place.dragged-over{opacity:1}sl-tooltip{--show-delay: 0.4s;--max-width: 100px;--sl-tooltip-arrow-size: 0}sl-tooltip::part(body),sl-tooltip::part(label),sl-tooltip::part(base__arrow){color:var(--wh-text);background-color:var(--wh-bg-back-strong);border:.5px solid var(--wh-border-back);font-size:9px}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 24px}.empty-state-content{display:flex;flex-direction:column;align-items:center;gap:4px;text-align:center;max-width:300px}.empty-state-content .empty-state-icon{color:var(--wh-text-strongest);opacity:.6;transition:all .3s ease-in-out;filter:drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))}.empty-state-content h2{font-size:18px;margin:0;font-weight:500;color:var(--wh-text-light);line-height:1.4;letter-spacing:-0.01em;margin-bottom:4px;font-feature-settings:"liga" 1,"kern" 1}.empty-state-content p{font-size:14px;margin:0;line-height:1.5;color:var(--wh-text-lightest)}.empty-state-content a{color:var(--wh-text-lightest);text-decoration:underline}.empty-state-content a:hover{color:var(--wh-text-light)}',""]);const n=l},43585:(o,t,r)=>{"use strict";r.d(t,{m:()=>s});var e=r(30747),i=r(20533);function s(o){i.f.setTimeout(function(){var t=e.$.onUnhandledError;if(!t)throw o;t(o)})}},44371:(o,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var e=r(36758),i=r.n(e),s=r(40935),l=r.n(s)()(i());l.push([o.id,':root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0, 0%, 97.5%);--sl-color-gray-100: hsl(240, 4.8%, 95.9%);--sl-color-gray-200: hsl(240, 5.9%, 90%);--sl-color-gray-300: hsl(240, 4.9%, 83.9%);--sl-color-gray-400: hsl(240, 5%, 64.9%);--sl-color-gray-500: hsl(240, 3.8%, 46.1%);--sl-color-gray-600: hsl(240, 5.2%, 33.9%);--sl-color-gray-700: hsl(240, 5.3%, 26.1%);--sl-color-gray-800: hsl(240, 3.7%, 15.9%);--sl-color-gray-900: hsl(240, 5.9%, 10%);--sl-color-gray-950: hsl(240, 7.3%, 8%);--sl-color-red-50: hsl(0, 85.7%, 97.3%);--sl-color-red-100: hsl(0, 93.3%, 94.1%);--sl-color-red-200: hsl(0, 96.3%, 89.4%);--sl-color-red-300: hsl(0, 93.5%, 81.8%);--sl-color-red-400: hsl(0, 90.6%, 70.8%);--sl-color-red-500: hsl(0, 84.2%, 60.2%);--sl-color-red-600: hsl(0, 72.2%, 50.6%);--sl-color-red-700: hsl(0, 73.7%, 41.8%);--sl-color-red-800: hsl(0, 70%, 35.3%);--sl-color-red-900: hsl(0, 62.8%, 30.6%);--sl-color-red-950: hsl(0, 60%, 19.6%);--sl-color-orange-50: hsl(33.3, 100%, 96.5%);--sl-color-orange-100: hsl(34.3, 100%, 91.8%);--sl-color-orange-200: hsl(32.1, 97.7%, 83.1%);--sl-color-orange-300: hsl(30.7, 97.2%, 72.4%);--sl-color-orange-400: hsl(27, 96%, 61%);--sl-color-orange-500: hsl(24.6, 95%, 53.1%);--sl-color-orange-600: hsl(20.5, 90.2%, 48.2%);--sl-color-orange-700: hsl(17.5, 88.3%, 40.4%);--sl-color-orange-800: hsl(15, 79.1%, 33.7%);--sl-color-orange-900: hsl(15.3, 74.6%, 27.8%);--sl-color-orange-950: hsl(15.2, 69.1%, 19%);--sl-color-amber-50: hsl(48, 100%, 96.1%);--sl-color-amber-100: hsl(48, 96.5%, 88.8%);--sl-color-amber-200: hsl(48, 96.6%, 76.7%);--sl-color-amber-300: hsl(45.9, 96.7%, 64.5%);--sl-color-amber-400: hsl(43.3, 96.4%, 56.3%);--sl-color-amber-500: hsl(37.7, 92.1%, 50.2%);--sl-color-amber-600: hsl(32.1, 94.6%, 43.7%);--sl-color-amber-700: hsl(26, 90.5%, 37.1%);--sl-color-amber-800: hsl(22.7, 82.5%, 31.4%);--sl-color-amber-900: hsl(21.7, 77.8%, 26.5%);--sl-color-amber-950: hsl(22.9, 74.1%, 16.7%);--sl-color-yellow-50: hsl(54.5, 91.7%, 95.3%);--sl-color-yellow-100: hsl(54.9, 96.7%, 88%);--sl-color-yellow-200: hsl(52.8, 98.3%, 76.9%);--sl-color-yellow-300: hsl(50.4, 97.8%, 63.5%);--sl-color-yellow-400: hsl(47.9, 95.8%, 53.1%);--sl-color-yellow-500: hsl(45.4, 93.4%, 47.5%);--sl-color-yellow-600: hsl(40.6, 96.1%, 40.4%);--sl-color-yellow-700: hsl(35.5, 91.7%, 32.9%);--sl-color-yellow-800: hsl(31.8, 81%, 28.8%);--sl-color-yellow-900: hsl(28.4, 72.5%, 25.7%);--sl-color-yellow-950: hsl(33.1, 69%, 13.9%);--sl-color-lime-50: hsl(78.3, 92%, 95.1%);--sl-color-lime-100: hsl(79.6, 89.1%, 89.2%);--sl-color-lime-200: hsl(80.9, 88.5%, 79.6%);--sl-color-lime-300: hsl(82, 84.5%, 67.1%);--sl-color-lime-400: hsl(82.7, 78%, 55.5%);--sl-color-lime-500: hsl(83.7, 80.5%, 44.3%);--sl-color-lime-600: hsl(84.8, 85.2%, 34.5%);--sl-color-lime-700: hsl(85.9, 78.4%, 27.3%);--sl-color-lime-800: hsl(86.3, 69%, 22.7%);--sl-color-lime-900: hsl(87.6, 61.2%, 20.2%);--sl-color-lime-950: hsl(86.5, 60.6%, 13.9%);--sl-color-green-50: hsl(138.5, 76.5%, 96.7%);--sl-color-green-100: hsl(140.6, 84.2%, 92.5%);--sl-color-green-200: hsl(141, 78.9%, 85.1%);--sl-color-green-300: hsl(141.7, 76.6%, 73.1%);--sl-color-green-400: hsl(141.9, 69.2%, 58%);--sl-color-green-500: hsl(142.1, 70.6%, 45.3%);--sl-color-green-600: hsl(142.1, 76.2%, 36.3%);--sl-color-green-700: hsl(142.4, 71.8%, 29.2%);--sl-color-green-800: hsl(142.8, 64.2%, 24.1%);--sl-color-green-900: hsl(143.8, 61.2%, 20.2%);--sl-color-green-950: hsl(144.3, 60.7%, 12%);--sl-color-emerald-50: hsl(151.8, 81%, 95.9%);--sl-color-emerald-100: hsl(149.3, 80.4%, 90%);--sl-color-emerald-200: hsl(152.4, 76%, 80.4%);--sl-color-emerald-300: hsl(156.2, 71.6%, 66.9%);--sl-color-emerald-400: hsl(158.1, 64.4%, 51.6%);--sl-color-emerald-500: hsl(160.1, 84.1%, 39.4%);--sl-color-emerald-600: hsl(161.4, 93.5%, 30.4%);--sl-color-emerald-700: hsl(162.9, 93.5%, 24.3%);--sl-color-emerald-800: hsl(163.1, 88.1%, 19.8%);--sl-color-emerald-900: hsl(164.2, 85.7%, 16.5%);--sl-color-emerald-950: hsl(164.3, 87.5%, 9.4%);--sl-color-teal-50: hsl(166.2, 76.5%, 96.7%);--sl-color-teal-100: hsl(167.2, 85.5%, 89.2%);--sl-color-teal-200: hsl(168.4, 83.8%, 78.2%);--sl-color-teal-300: hsl(170.6, 76.9%, 64.3%);--sl-color-teal-400: hsl(172.5, 66%, 50.4%);--sl-color-teal-500: hsl(173.4, 80.4%, 40%);--sl-color-teal-600: hsl(174.7, 83.9%, 31.6%);--sl-color-teal-700: hsl(175.3, 77.4%, 26.1%);--sl-color-teal-800: hsl(176.1, 69.4%, 21.8%);--sl-color-teal-900: hsl(175.9, 60.8%, 19%);--sl-color-teal-950: hsl(176.5, 58.6%, 11.4%);--sl-color-wh-50: hsl(161, 76%, 96%);--sl-color-wh-100: hsl(161, 85%, 89%);--sl-color-wh-200: hsl(161, 83%, 76%);--sl-color-wh-300: hsl(161, 76%, 55%);--sl-color-wh-400: hsl(161, 86%, 45%);--sl-color-wh-500: hsl(161, 100%, 35%);--sl-color-wh-600: hsl(162.5, 103%, 31%);--sl-color-wh-700: hsl(164, 94%, 29%);--sl-color-wh-800: hsl(165.5, 86%, 24%);--sl-color-wh-900: hsl(167, 76%, 19%);--sl-color-wh-950: hsl(168.5, 65%, 11%);--sl-color-cyan-50: hsl(183.2, 100%, 96.3%);--sl-color-cyan-100: hsl(185.1, 95.9%, 90.4%);--sl-color-cyan-200: hsl(186.2, 93.5%, 81.8%);--sl-color-cyan-300: hsl(187, 92.4%, 69%);--sl-color-cyan-400: hsl(187.9, 85.7%, 53.3%);--sl-color-cyan-500: hsl(188.7, 94.5%, 42.7%);--sl-color-cyan-600: hsl(191.6, 91.4%, 36.5%);--sl-color-cyan-700: hsl(192.9, 82.3%, 31%);--sl-color-cyan-800: hsl(194.4, 69.6%, 27.1%);--sl-color-cyan-900: hsl(196.4, 63.6%, 23.7%);--sl-color-cyan-950: hsl(196.8, 61%, 16.1%);--sl-color-sky-50: hsl(204, 100%, 97.1%);--sl-color-sky-100: hsl(204, 93.8%, 93.7%);--sl-color-sky-200: hsl(200.6, 94.4%, 86.1%);--sl-color-sky-300: hsl(199.4, 95.5%, 73.9%);--sl-color-sky-400: hsl(198.4, 93.2%, 59.6%);--sl-color-sky-500: hsl(198.6, 88.7%, 48.4%);--sl-color-sky-600: hsl(200.4, 98%, 39.4%);--sl-color-sky-700: hsl(201.3, 96.3%, 32.2%);--sl-color-sky-800: hsl(201, 90%, 27.5%);--sl-color-sky-900: hsl(202, 80.3%, 23.9%);--sl-color-sky-950: hsl(202.3, 73.8%, 16.5%);--sl-color-blue-50: hsl(213.8, 100%, 96.9%);--sl-color-blue-100: hsl(214.3, 94.6%, 92.7%);--sl-color-blue-200: hsl(213.3, 96.9%, 87.3%);--sl-color-blue-300: hsl(211.7, 96.4%, 78.4%);--sl-color-blue-400: hsl(213.1, 93.9%, 67.8%);--sl-color-blue-500: hsl(217.2, 91.2%, 59.8%);--sl-color-blue-600: hsl(221.2, 83.2%, 53.3%);--sl-color-blue-700: hsl(224.3, 76.3%, 48%);--sl-color-blue-800: hsl(225.9, 70.7%, 40.2%);--sl-color-blue-900: hsl(224.4, 64.3%, 32.9%);--sl-color-blue-950: hsl(226.2, 55.3%, 18.4%);--sl-color-indigo-50: hsl(225.9, 100%, 96.7%);--sl-color-indigo-100: hsl(226.5, 100%, 93.9%);--sl-color-indigo-200: hsl(228, 96.5%, 88.8%);--sl-color-indigo-300: hsl(229.7, 93.5%, 81.8%);--sl-color-indigo-400: hsl(234.5, 89.5%, 73.9%);--sl-color-indigo-500: hsl(238.7, 83.5%, 66.7%);--sl-color-indigo-600: hsl(243.4, 75.4%, 58.6%);--sl-color-indigo-700: hsl(244.5, 57.9%, 50.6%);--sl-color-indigo-800: hsl(243.7, 54.5%, 41.4%);--sl-color-indigo-900: hsl(242.2, 47.4%, 34.3%);--sl-color-indigo-950: hsl(243.5, 43.6%, 22.9%);--sl-color-violet-50: hsl(250, 100%, 97.6%);--sl-color-violet-100: hsl(251.4, 91.3%, 95.5%);--sl-color-violet-200: hsl(250.5, 95.2%, 91.8%);--sl-color-violet-300: hsl(252.5, 94.7%, 85.1%);--sl-color-violet-400: hsl(255.1, 91.7%, 76.3%);--sl-color-violet-500: hsl(258.3, 89.5%, 66.3%);--sl-color-violet-600: hsl(262.1, 83.3%, 57.8%);--sl-color-violet-700: hsl(263.4, 70%, 50.4%);--sl-color-violet-800: hsl(263.4, 69.3%, 42.2%);--sl-color-violet-900: hsl(263.5, 67.4%, 34.9%);--sl-color-violet-950: hsl(265.1, 61.5%, 21.4%);--sl-color-purple-50: hsl(270, 100%, 98%);--sl-color-purple-100: hsl(268.7, 100%, 95.5%);--sl-color-purple-200: hsl(268.6, 100%, 91.8%);--sl-color-purple-300: hsl(269.2, 97.4%, 85.1%);--sl-color-purple-400: hsl(270, 95.2%, 75.3%);--sl-color-purple-500: hsl(270.7, 91%, 65.1%);--sl-color-purple-600: hsl(271.5, 81.3%, 55.9%);--sl-color-purple-700: hsl(272.1, 71.7%, 47.1%);--sl-color-purple-800: hsl(272.9, 67.2%, 39.4%);--sl-color-purple-900: hsl(273.6, 65.6%, 32%);--sl-color-purple-950: hsl(276, 59.5%, 16.5%);--sl-color-fuchsia-50: hsl(289.1, 100%, 97.8%);--sl-color-fuchsia-100: hsl(287, 100%, 95.5%);--sl-color-fuchsia-200: hsl(288.3, 95.8%, 90.6%);--sl-color-fuchsia-300: hsl(291.1, 93.1%, 82.9%);--sl-color-fuchsia-400: hsl(292, 91.4%, 72.5%);--sl-color-fuchsia-500: hsl(292.2, 84.1%, 60.6%);--sl-color-fuchsia-600: hsl(293.4, 69.5%, 48.8%);--sl-color-fuchsia-700: hsl(294.7, 72.4%, 39.8%);--sl-color-fuchsia-800: hsl(295.4, 70.2%, 32.9%);--sl-color-fuchsia-900: hsl(296.7, 63.6%, 28%);--sl-color-fuchsia-950: hsl(297.1, 56.8%, 14.5%);--sl-color-pink-50: hsl(327.3, 73.3%, 97.1%);--sl-color-pink-100: hsl(325.7, 77.8%, 94.7%);--sl-color-pink-200: hsl(325.9, 84.6%, 89.8%);--sl-color-pink-300: hsl(327.4, 87.1%, 81.8%);--sl-color-pink-400: hsl(328.6, 85.5%, 70.2%);--sl-color-pink-500: hsl(330.4, 81.2%, 60.4%);--sl-color-pink-600: hsl(333.3, 71.4%, 50.6%);--sl-color-pink-700: hsl(335.1, 77.6%, 42%);--sl-color-pink-800: hsl(335.8, 74.4%, 35.3%);--sl-color-pink-900: hsl(335.9, 69%, 30.4%);--sl-color-pink-950: hsl(336.2, 65.4%, 15.9%);--sl-color-rose-50: hsl(355.7, 100%, 97.3%);--sl-color-rose-100: hsl(355.6, 100%, 94.7%);--sl-color-rose-200: hsl(352.7, 96.1%, 90%);--sl-color-rose-300: hsl(352.6, 95.7%, 81.8%);--sl-color-rose-400: hsl(351.3, 94.5%, 71.4%);--sl-color-rose-500: hsl(349.7, 89.2%, 60.2%);--sl-color-rose-600: hsl(346.8, 77.2%, 49.8%);--sl-color-rose-700: hsl(345.3, 82.7%, 40.8%);--sl-color-rose-800: hsl(343.4, 79.7%, 34.7%);--sl-color-rose-900: hsl(341.5, 75.5%, 30.4%);--sl-color-rose-950: hsl(341.3, 70.1%, 17.1%);--sl-color-primary-50: var(--sl-color-wh-50);--sl-color-primary-100: var(--sl-color-wh-100);--sl-color-primary-200: var(--sl-color-wh-200);--sl-color-primary-300: var(--sl-color-wh-300);--sl-color-primary-400: var(--sl-color-wh-400);--sl-color-primary-500: var(--sl-color-wh-500);--sl-color-primary-600: var(--sl-color-wh-600);--sl-color-primary-700: var(--sl-color-wh-700);--sl-color-primary-800: var(--sl-color-wh-800);--sl-color-primary-900: var(--sl-color-wh-900);--sl-color-primary-950: var(--sl-color-wh-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: 0.1875rem;--sl-border-radius-medium: 0.25rem;--sl-border-radius-large: 0.5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsla(240, 3.8%, 46.1%, 0.06);--sl-shadow-small: 0 1px 2px hsla(240, 3.8%, 46.1%, 0.12);--sl-shadow-medium: 0 2px 4px hsla(240, 3.8%, 46.1%, 0.12);--sl-shadow-large: 0 2px 8px hsla(240, 3.8%, 46.1%, 0.12);--sl-shadow-x-large: 0 4px 16px hsla(240, 3.8%, 46.1%, 0.12);--sl-spacing-3x-small: 0.125rem;--sl-spacing-2x-small: 0.25rem;--sl-spacing-x-small: 0.5rem;--sl-spacing-small: 0.75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1000ms;--sl-transition-slow: 500ms;--sl-transition-medium: 250ms;--sl-transition-fast: 150ms;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: 0.575em;--sl-font-size-x-small: 0.7em;--sl-font-size-small: 0.8em;--sl-font-size-medium: 0.95em;--sl-font-size-large: 1.2em;--sl-font-size-x-large: 1.45em;--sl-font-size-2x-large: 2em;--sl-font-size-3x-large: 1.85em;--sl-font-size-4x-large: 4em;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -0.03em;--sl-letter-spacing-dense: -0.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: 0.075em;--sl-letter-spacing-looser: 0.15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--wh-bg-base);--sl-input-background-color-hover: var(--wh-bg-back);--sl-input-background-color-focus: var(--wh-bg-back);--sl-input-background-color-disabled: var(--wh-bg-front);--sl-input-border-color: var(--wh-border-base);--sl-input-border-color-hover: var(--wh-border-base-hover);--sl-input-border-color-focus: var(--wh-border-base-hover);--sl-input-border-color-disabled: var(--wh-border-base-hover);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--wh-text);--sl-input-color-hover: var(--wh-text);--sl-input-color-focus: var(--wh-text);--sl-input-color-disabled: var(--wh-text-lighter);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--wh-text-lighter);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-filled-background-color: var(--wh-bg-front);--sl-input-filled-background-color-hover: var(--wh-bg-front);--sl-input-filled-background-color-focus: var(--wh-bg-front);--sl-input-filled-background-color-disabled: var(--wh-bg-front);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--wh-text);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-focus-ring-color: hsla(198.6, 88.7%, 48.4%, 0.4);--sl-input-focus-ring-offset: 0;--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--wh-text-light);--sl-toggle-size-small: 0.875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsla(0, 0%, 0%, 0.43);--sl-panel-background-color: var(--wh-bg-base);--sl-panel-border-color: var(--wh-border-base);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--wh-bg-base);--sl-tooltip-color: var(--wh-text);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-x-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}',""]);const n=l},45106:(o,t,r)=>{"use strict";r.d(t,{Q:()=>l});var e=r(54184),i=r(22185),s=r(869);function l(o,t){return void 0===t&&(t=0),(0,i.N)(function(r,i){r.subscribe((0,s._)(i,function(r){return(0,e.N)(i,o,function(){return i.next(r)},t)},function(){return(0,e.N)(i,o,function(){return i.complete()},t)},function(r){return(0,e.N)(i,o,function(){return i.error(r)},t)}))})}},46195:(o,t,r)=>{"use strict";r.d(t,{Tg:()=>m});var e=r(85608),i=r(31604),s=r(26691),l=r(61824),n=r(23330),a=r(74956),c=r(64904),h=r(93206),d=r(98523),p=r(14460),u=r(43585),g=r(59805);function m(o){if(o instanceof l.c)return o;if(null!=o){if((0,n.l)(o))return f=o,new l.c(function(o){var t=f[g.s]();if((0,p.T)(t.subscribe))return t.subscribe(o);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if((0,i.X)(o))return b=o,new l.c(function(o){for(var t=0;t<b.length&&!o.closed;t++)o.next(b[t]);o.complete()});if((0,s.y)(o))return m=o,new l.c(function(o){m.then(function(t){o.closed||(o.next(t),o.complete())},function(t){return o.error(t)}).then(null,u.m)});if((0,a.T)(o))return v(o);if((0,h.x)(o))return r=o,new l.c(function(o){var t,i;try{for(var s=(0,e.Ju)(r),l=s.next();!l.done;l=s.next()){var n=l.value;if(o.next(n),o.closed)return}}catch(o){t={error:o}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}o.complete()});if((0,d.U)(o))return t=o,v((0,d.C)(t))}var t,r,m,b,f;throw(0,c.L)(o)}function v(o){return new l.c(function(t){(function(o,t){var r,i,s,l;return(0,e.sH)(this,void 0,void 0,function(){var n,a;return(0,e.YH)(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=(0,e.xN)(o),c.label=1;case 1:return[4,r.next()];case 2:if((i=c.sent()).done)return[3,4];if(n=i.value,t.next(n),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),s={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),i&&!i.done&&(l=r.return)?[4,l.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(o,t).catch(function(o){return t.error(o)})})}},49758:(o,t,r)=>{"use strict";r.d(t,{l:()=>e});var e="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},51998:(o,t,r)=>{"use strict";r.d(t,{A2:()=>i,M7:()=>e,ro:()=>s});var e=l("C",void 0,void 0);function i(o){return l("E",void 0,o)}function s(o){return l("N",o,void 0)}function l(o,t,r){return{kind:o,value:t,error:r}}},52348:(o,t,r)=>{"use strict";r.d(t,{K:()=>i});var e=r(59904);function i(){return(0,e.U)(1)}},54184:(o,t,r)=>{"use strict";function e(o,t,r,e,i){void 0===e&&(e=0),void 0===i&&(i=!1);var s=t.schedule(function(){r(),i?o.add(this.schedule(null,e)):this.unsubscribe()},e);if(o.add(s),!i)return s}r.d(t,{N:()=>e})},54918:(o,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var e=r(36758),i=r.n(e),s=r(40935),l=r.n(s)()(i());l.push([o.id,'.wh-loading-skeleton{color:rgba(0,0,0,0);opacity:.8;animation:1.25s linear 0s infinite normal none running loadingBlinking;background:var(--wh-skeleton-bg);border-radius:4px;position:relative;overflow:hidden}.wh-loading-skeleton::after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, var(--wh-skeleton-bg-hover), transparent);animation:skeleton-shimmer 2s infinite}@keyframes loadingBlinking{0%{background:var(--wh-skeleton-bg)}70%{background:var(--wh-skeleton-bg-hover)}100%{background:var(--wh-skeleton-bg-strong)}}@keyframes skeleton-shimmer{0%{left:-100%}100%{left:100%}}:host{font-family:var(--wh-font-family);box-sizing:border-box}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host{font-family:var(--wh-font-family);box-sizing:border-box}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.primary-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;background:var(--wh-primary-700);text-decoration:none}.primary-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.primary-btn:not(:disabled):hover{background:var(--wh-primary-600)}.secondary-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;background:var(--wh-gray-50);border:.5px solid rgba(47,50,55,.2392156863);background:var(--wh-gray-50);color:var(--wh-gray-600)}.secondary-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.primary-text-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;color:#fff;background:var(--secondary-dark);border:1px solid var(--wh-primary-600)}.primary-text-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.chrome-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;padding:0;background:var(--wh-primary-600);box-shadow:0px 2px 1px -1px rgba(var(--wh-primary-600), 0.6),0 1px 1px 0 rgba(var(--wh-primary-600), 0.341),0 1px 3px 0 rgba(var(--wh-primary-600), 0.322)}.chrome-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.chrome-btn a{text-decoration:none;padding:10px 20px;line-height:40px;color:#fff}.chrome-btn:hover{background:var(--wh-primary-600);transition:all .2s ease;transform:scale(1.03)}:host{font-family:var(--wh-font-family);display:flex;flex-direction:column;width:100%;background-color:var(--wh-bg-base);color:var(--wh-text);--wh-font-size-title: 16px;--wh-font-size-description: 13px;--wh-bookmark-details-preview-margin-bottom: 20px;--wh-preview-element-gradient-overlay: rgba(0, 0, 0, 0.5);--wh-action-btn-padding: 4px}@container (min-width: 400px){:host{--wh-font-size-title: 18px;--wh-font-size-description: 14px}}@container (min-width: 500px){:host{--wh-font-size-title: 22px;--wh-font-size-description: 16px}}@media(max-width: 767px){:host{--wh-action-btn-padding: 8px;--wh-font-size-title: 20px;--wh-font-size-description: 15px}}.bookmark-preview-header{width:100%;height:90px;position:relative;margin-bottom:var(--wh-bookmark-details-preview-margin-bottom)}@container (min-width: 400px){.bookmark-preview-header{height:95px}}@container (min-width: 500px){.bookmark-preview-header{height:110px}}@container (min-width: 600px){.bookmark-preview-header{height:120px}}@container (min-width: 900px){.bookmark-preview-header{height:130px}}@container (min-width: 1200px){.bookmark-preview-header{height:150px}}.bookmark-preview-header-top{display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;left:0;top:0;width:100%;padding-top:4px;padding-bottom:4px;box-sizing:border-box;z-index:2}.bookmark-preview-header-top-content{display:flex;align-items:center;justify-content:space-between;padding:var(--bookmark-details-header-padding);width:var(--wh-content-container-max-width);max-width:100%;box-sizing:border-box}.bookmark-preview-title-container{display:flex;align-items:center;gap:2px}.bookmark-preview-header-top-left{display:flex;align-items:center;gap:2px}.bookmark-preview-header-top-right{display:flex;align-items:center;gap:2px;justify-content:end}.bookmark-preview-header-top-left-url{background:var(--wh-preview-element-gradient-overlay);border-radius:4px}.url-with-favicon{display:flex;flex-direction:row;align-items:center;gap:4px;padding:0 8px 0 4px;background:rgba(0,0,0,0)}.url-with-favicon>*{padding:4px 0}.url-with-favicon:hover{background:var(--wh-primary-color-transparent)}.bookmark-preview-backdrop{position:absolute;bottom:0;left:0;width:100%;height:70%;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;background:linear-gradient(to top, var(--wh-bg-base), rgba(0, 0, 0, 0));box-sizing:border-box}.bookmark-preview-backdrop .bookmark-preview-backdrop-content{padding:var(--bookmark-details-header-padding);max-width:100%;width:var(--wh-content-container-max-width);box-sizing:border-box;transform:translateY(var(--wh-bookmark-details-preview-margin-bottom));z-index:1;display:flex;flex-direction:column}.bookmark-preview-details{display:flex;flex-direction:column;width:100%;height:100%;padding:var(--bookmark-details-header-padding);padding-top:4px;padding-bottom:4px;box-sizing:border-box;backdrop-filter:blur(40px);background:var(--wh-bg-base)}input,textarea{background-color:rgba(0,0,0,0);color:var(--wh-text-strongest);border:none;border-radius:4px;font-size:16px;font-family:var(--wh-font-family);outline:none;text-overflow:ellipsis}input:focus,textarea:focus{border-color:#fff}.title-input{font-size:14px;font-size:var(--wh-font-size-title, 14px);font-weight:400;width:100%;word-break:break-all}.description-input{font-size:12px;font-size:var(--wh-font-size-description, 12px);width:100%;word-break:break-all;color:var(--wh-text-light)}.url-link{font-size:calc(var(--wh-font-size) - 2px);word-break:break-all;color:var(--wh-gray-200);max-width:140px;line-height:1;text-decoration:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@container (min-width: 400px){.url-link{max-width:140px}}@container (min-width: 500px){.url-link{max-width:160px}}@container (min-width: 600px){.url-link{max-width:200px}}.shake-tr{animation:shake-tr 1.2s cubic-bezier(0.455, 0.03, 0.515, 0.955) both}@keyframes shake-tr{0%,100%{transform:rotate(0deg);transform-origin:100% 0}10%{transform:rotate(3deg)}20%,40%,60%{transform:rotate(-6deg)}30%,50%,70%{transform:rotate(6deg)}80%{transform:rotate(-3deg)}90%{transform:rotate(3deg)}}.action-btn-overlay{background:var(--wh-preview-element-gradient-overlay);border-radius:100%}.star-bookmark-btn{cursor:pointer;margin-left:auto;display:flex;align-items:center;height:-moz-fit-content;height:fit-content;color:#fff;padding:var(--wh-action-btn-padding);border-radius:100%;position:relative;border:none;background:rgba(0,0,0,0)}.star-bookmark-btn.active{color:var(--wh-primary-500)}.star-bookmark-btn.active webhighlights-icon::part(icon){fill:var(--wh-primary-500)}.star-bookmark-btn:hover{color:var(--wh-primary-500);background:var(--wh-primary-color-transparent)}.star-bookmark-btn:hover webhighlights-tooltip{display:block;--background-color: var(--wh-secondary-900)}.star-bookmark-btn .tooltip-wrapper{visibility:hidden;font-size:10px;transition:all .35s;transition-delay:.2;opacity:0;width:0;height:0}.star-bookmark-btn:hover .tooltip-wrapper{visibility:visible;opacity:1;line-height:12px;background:var(--wh-bg-front)}.star-bookmark-btn .shortcut-link{color:inherit}.star-bookmark-btn .tooltip-wrapper{position:static !important;position:initial !important}.star-bookmark-btn webhighlights-tooltip{margin:2px 4px !important}.star-bookmark-btn webhighlights-tooltip{font-size:10px}.open-page-btn-overlay{background:var(--wh-preview-element-gradient-overlay);border-radius:4px}.open-page-btn{border:none;background:none;border-radius:4px;cursor:pointer;text-decoration:none;display:flex;font-family:var(--wh-font-family);transition:all .1s ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1;color:var(--wh-gray-200);fill:var(--wh-gray-200);-moz-column-gap:2px;column-gap:2px;font-size:calc(var(--wh-font-size) - 2px);padding:4px 6px;width:-moz-fit-content;width:fit-content;display:flex;align-items:center;background:rgba(0,0,0,0)}.open-page-btn:hover{background:var(--wh-primary-color-transparent)}.dots-menu::part(dots-menu){--dots-size: 24px}.reminder-btn::part(btn-overlay){background:var(--wh-preview-element-gradient-overlay)}.reminder-btn::part(snooze-btn){padding:var(--wh-action-btn-padding)}',""]);const n=l},55034:(o,t,r)=>{"use strict";r.d(t,{c:()=>v});var e=r(10101),i=r(7427),s=r(62731),l=r(59862),n=r(1772),a=r(23330),c=r(26691),h=r(31604),d=r(93206),p=r(74956),u=r(64904),g=r(98523),m=r(57115);function v(o,t){if(null!=o){if((0,a.l)(o))return(0,e.x)(o,t);if((0,h.X)(o))return(0,s.V)(o,t);if((0,c.y)(o))return(0,i.P)(o,t);if((0,p.T)(o))return(0,n.M)(o,t);if((0,d.x)(o))return(0,l.S)(o,t);if((0,g.U)(o))return(0,m.v)(o,t)}throw(0,u.L)(o)}},56077:(o,t,r)=>{var e=r(14824);e&&e.__esModule&&(e=e.default),o.exports="string"==typeof e?e:e.toString()},57115:(o,t,r)=>{"use strict";r.d(t,{v:()=>s});var e=r(1772),i=r(98523);function s(o,t){return(0,e.M)((0,i.C)(o),t)}},57929:(o,t,r)=>{"use strict";r.d(t,{YZ:()=>s});var e=r(58207);const i=Symbol();class s{get taskComplete(){return this.t||(1===this.i?this.t=new Promise((o,t)=>{this.o=o,this.h=t}):3===this.i?this.t=Promise.reject(this.l):this.t=Promise.resolve(this.u)),this.t}constructor(o,t,r){this.p=0,this.i=0,(this._=o).addController(this);const e="object"==typeof t?t:{task:t,args:r};this.v=e.task,this.j=e.args,this.m=e.argsEqual??l,this.k=e.onComplete,this.A=e.onError,this.autoRun=e.autoRun??!0,"initialValue"in e&&(this.u=e.initialValue,this.i=2,this.O=this.T?.())}hostUpdate(){!0===this.autoRun&&this.S()}hostUpdated(){"afterUpdate"===this.autoRun&&this.S()}T(){if(void 0===this.j)return;const o=this.j();if(!Array.isArray(o))throw Error("The args function must return an array");return o}async S(){const o=this.T(),t=this.O;this.O=o,o===t||void 0===o||void 0!==t&&this.m(t,o)||await this.run(o)}async run(o){let t,r;o??=this.T(),this.O=o,1===this.i?this.q?.abort():(this.t=void 0,this.o=void 0,this.h=void 0),this.i=1,"afterUpdate"===this.autoRun?queueMicrotask(()=>this._.requestUpdate()):this._.requestUpdate();const e=++this.p;this.q=new AbortController;let s=!1;try{t=await this.v(o,{signal:this.q.signal})}catch(o){s=!0,r=o}if(this.p===e){if(t===i)this.i=0;else{if(!1===s){try{this.k?.(t)}catch{}this.i=2,this.o?.(t)}else{try{this.A?.(r)}catch{}this.i=3,this.h?.(r)}this.u=t,this.l=r}this._.requestUpdate()}}abort(o){1===this.i&&this.q?.abort(o)}get value(){return this.u}get error(){return this.l}get status(){return this.i}render(o){switch(this.i){case 0:return o.initial?.();case 1:return o.pending?.();case 2:return o.complete?.(this.value);case 3:return o.error?.(this.error);default:throw Error("Unexpected status: "+this.i)}}}const l=(o,t)=>o===t||o.length===t.length&&o.every((o,r)=>!(0,e.Ec)(o,t[r]))},58207:(o,t,r)=>{"use strict";r.d(t,{Ec:()=>v});var e=r(86663);const{is:i,defineProperty:s,getOwnPropertyDescriptor:l,getOwnPropertyNames:n,getOwnPropertySymbols:a,getPrototypeOf:c}=Object,h=globalThis,d=h.trustedTypes,p=d?d.emptyScript:"",u=h.reactiveElementPolyfillSupport,g=(o,t)=>o,m={toAttribute(o,t){switch(t){case Boolean:o=o?p:null;break;case Object:case Array:o=null==o?o:JSON.stringify(o)}return o},fromAttribute(o,t){let r=o;switch(t){case Boolean:r=null!==o;break;case Number:r=null===o?null:Number(o);break;case Object:case Array:try{r=JSON.parse(o)}catch(o){r=null}}return r}},v=(o,t)=>!i(o,t),b={attribute:!0,type:String,converter:m,reflect:!1,useDefault:!1,hasChanged:v};Symbol.metadata??=Symbol("metadata"),h.litPropertyMetadata??=new WeakMap;class f extends HTMLElement{static addInitializer(o){this._$Ei(),(this.l??=[]).push(o)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(o,t=b){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(o)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(o,t),!t.noAccessor){const r=Symbol(),e=this.getPropertyDescriptor(o,r,t);void 0!==e&&s(this.prototype,o,e)}}static getPropertyDescriptor(o,t,r){const{get:e,set:i}=l(this.prototype,o)??{get(){return this[t]},set(o){this[t]=o}};return{get:e,set(t){const s=e?.call(this);i?.call(this,t),this.requestUpdate(o,s,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(o){return this.elementProperties.get(o)??b}static _$Ei(){if(this.hasOwnProperty(g("elementProperties")))return;const o=c(this);o.finalize(),void 0!==o.l&&(this.l=[...o.l]),this.elementProperties=new Map(o.elementProperties)}static finalize(){if(this.hasOwnProperty(g("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(g("properties"))){const o=this.properties,t=[...n(o),...a(o)];for(const r of t)this.createProperty(r,o[r])}const o=this[Symbol.metadata];if(null!==o){const t=litPropertyMetadata.get(o);if(void 0!==t)for(const[o,r]of t)this.elementProperties.set(o,r)}this._$Eh=new Map;for(const[o,t]of this.elementProperties){const r=this._$Eu(o,t);void 0!==r&&this._$Eh.set(r,o)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(o){const t=[];if(Array.isArray(o)){const r=new Set(o.flat(1/0).reverse());for(const o of r)t.unshift((0,e.sk)(o))}else void 0!==o&&t.push((0,e.sk)(o));return t}static _$Eu(o,t){const r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof o?o.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(o=>this.enableUpdating=o),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(o=>o(this))}addController(o){(this._$EO??=new Set).add(o),void 0!==this.renderRoot&&this.isConnected&&o.hostConnected?.()}removeController(o){this._$EO?.delete(o)}_$E_(){const o=new Map,t=this.constructor.elementProperties;for(const r of t.keys())this.hasOwnProperty(r)&&(o.set(r,this[r]),delete this[r]);o.size>0&&(this._$Ep=o)}createRenderRoot(){const o=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return(0,e.Rf)(o,this.constructor.elementStyles),o}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(o=>o.hostConnected?.())}enableUpdating(o){}disconnectedCallback(){this._$EO?.forEach(o=>o.hostDisconnected?.())}attributeChangedCallback(o,t,r){this._$AK(o,r)}_$ET(o,t){const r=this.constructor.elementProperties.get(o),e=this.constructor._$Eu(o,r);if(void 0!==e&&!0===r.reflect){const i=(void 0!==r.converter?.toAttribute?r.converter:m).toAttribute(t,r.type);this._$Em=o,null==i?this.removeAttribute(e):this.setAttribute(e,i),this._$Em=null}}_$AK(o,t){const r=this.constructor,e=r._$Eh.get(o);if(void 0!==e&&this._$Em!==e){const o=r.getPropertyOptions(e),i="function"==typeof o.converter?{fromAttribute:o.converter}:void 0!==o.converter?.fromAttribute?o.converter:m;this._$Em=e;const s=i.fromAttribute(t,o.type);this[e]=s??this._$Ej?.get(e)??s,this._$Em=null}}requestUpdate(o,t,r){if(void 0!==o){const e=this.constructor,i=this[o];if(r??=e.getPropertyOptions(o),!((r.hasChanged??v)(i,t)||r.useDefault&&r.reflect&&i===this._$Ej?.get(o)&&!this.hasAttribute(e._$Eu(o,r))))return;this.C(o,t,r)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(o,t,{useDefault:r,reflect:e,wrapped:i},s){r&&!(this._$Ej??=new Map).has(o)&&(this._$Ej.set(o,s??t??this[o]),!0!==i||void 0!==s)||(this._$AL.has(o)||(this.hasUpdated||r||(t=void 0),this._$AL.set(o,t)),!0===e&&this._$Em!==o&&(this._$Eq??=new Set).add(o))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(o){Promise.reject(o)}const o=this.scheduleUpdate();return null!=o&&await o,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[o,t]of this._$Ep)this[o]=t;this._$Ep=void 0}const o=this.constructor.elementProperties;if(o.size>0)for(const[t,r]of o){const{wrapped:o}=r,e=this[t];!0!==o||this._$AL.has(t)||void 0===e||this.C(t,void 0,r,e)}}let o=!1;const t=this._$AL;try{o=this.shouldUpdate(t),o?(this.willUpdate(t),this._$EO?.forEach(o=>o.hostUpdate?.()),this.update(t)):this._$EM()}catch(t){throw o=!1,this._$EM(),t}o&&this._$AE(t)}willUpdate(o){}_$AE(o){this._$EO?.forEach(o=>o.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(o)),this.updated(o)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(o){return!0}update(o){this._$Eq&&=this._$Eq.forEach(o=>this._$ET(o,this[o])),this._$EM()}updated(o){}firstUpdated(o){}}f.elementStyles=[],f.shadowRootOptions={mode:"open"},f[g("elementProperties")]=new Map,f[g("finalized")]=new Map,u?.({ReactiveElement:f}),(h.reactiveElementVersions??=[]).push("2.1.1")},58354:(o,t,r)=>{var e=r(42737);e&&e.__esModule&&(e=e.default),o.exports="string"==typeof e?e:e.toString()},59805:(o,t,r)=>{"use strict";r.d(t,{s:()=>e});var e="function"==typeof Symbol&&Symbol.observable||"@@observable"},59862:(o,t,r)=>{"use strict";r.d(t,{S:()=>n});var e=r(61824),i=r(49758),s=r(14460),l=r(54184);function n(o,t){return new e.c(function(r){var e;return(0,l.N)(r,t,function(){e=o[i.l](),(0,l.N)(r,t,function(){var o,t,i;try{t=(o=e.next()).value,i=o.done}catch(o){return void r.error(o)}i?r.complete():r.next(t)},0,!0)}),function(){return(0,s.T)(null==e?void 0:e.return)&&e.return()}})}},59904:(o,t,r)=>{"use strict";r.d(t,{U:()=>s});var e=r(96961),i=r(24254);function s(o){return void 0===o&&(o=1/0),(0,e.Z)(i.D,o)}},60652:(o,t,r)=>{"use strict";var e=r(93811),i=r(95665),s=r(38085),l=r(79097),n=r(67083),a=r(85833),c=r(95172),h=r(30827),d=r(71882),p=r(14499),u=r.n(p),g=function(o,t,r,e){var i,s=arguments.length,l=s<3?t:null===e?e=Object.getOwnPropertyDescriptor(t,r):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,t,r,e);else for(var n=o.length-1;n>=0;n--)(i=o[n])&&(l=(s<3?i(l):s>3?i(t,r,l):i(t,r))||l);return s>3&&l&&Object.defineProperty(t,r,l),l},m=function(o,t,r,e){return new(r||(r=Promise))(function(i,s){function l(o){try{a(e.next(o))}catch(o){s(o)}}function n(o){try{a(e.throw(o))}catch(o){s(o)}}function a(o){var t;o.done?i(o.value):(t=o.value,t instanceof r?t:new r(function(o){o(t)})).then(l,n)}a((e=e.apply(o,t||[])).next())})};const v=s.SHARED_COMPONENTS_INTERNAL.BookmarkDetailsSubToolbar,b=v.TAG;class f extends h.y{constructor(){super(...arguments),this.isImageLoading=!1,this.isImageError=!1,this.updatedBookmark$=new l.B,this.components=[s.SHARED_COMPONENTS.Icon.TAG,s.SHARED_COMPONENTS.Tags.TAG,s.SHARED_COMPONENTS.ShareButton.TAG,s.SHARED_COMPONENTS.AiSummaryBtn.TAG]}firstUpdated(){this.startBookmarkUpdateDebouncer()}startBookmarkUpdateDebouncer(){this.updateBookmarkSubscription$=(0,n.x)(this.updatedBookmark$.pipe((0,c.s)(1)),this.updatedBookmark$.pipe((0,a.B)(500))).subscribe(o=>m(this,void 0,void 0,function*(){this.fireBookmarkUpdate(o)}))}fireBookmarkUpdate(o){return m(this,void 0,void 0,function*(){try{return(0,s.updateBookmark)(o)}catch(o){console.error(o)}})}disconnectedCallback(){var o;null===(o=this.updateBookmarkSubscription$)||void 0===o||o.unsubscribe(),super.disconnectedCallback()}onBookmarkUpdated(o){var t;if(!(null===(t=this.props.bookmark)||void 0===t?void 0:t._id))return;const r=Object.assign(Object.assign({},this.props.bookmark),o);this.updatedBookmark$.next(r)}onTagsChanged(o){return m(this,void 0,void 0,function*(){this.props.bookmark||this.props.readOnly||(yield this.onStarBookmark()),this.onBookmarkUpdated({tags:o.detail.tags})})}onTagsFocused(o){return m(this,void 0,void 0,function*(){this.props.bookmark||this.props.readOnly||(yield this.onStarBookmark())})}get bookmarkTitle(){var o,t,r,e,i;return(0,s.truncateString)((0,s.getTitleForBookmark)(Object.assign({title:(null===(o=this.props.bookmark)||void 0===o?void 0:o.title)||(null===(r=null===(t=this.props.bookmark)||void 0===t?void 0:t.meta)||void 0===r?void 0:r.title)||(null===(e=this.props.meta)||void 0===e?void 0:e.title)},null!==(i=this.props.kindleBookInfo)&&void 0!==i?i:{}),document.title),100,{truncateSymbol:""})}get bookmarkDescription(){var o,t,r,e;return(0,s.truncateString)((null===(o=this.props.bookmark)||void 0===o?void 0:o.description)||(null===(t=this.props.meta)||void 0===t?void 0:t.description)||(null===(e=null===(r=this.props.bookmark)||void 0===r?void 0:r.meta)||void 0===e?void 0:e.description)||"",160,{truncateSymbol:""}).trim()}onStarBookmark(){return m(this,void 0,void 0,function*(){var o;if(null===(o=this.props.bookmark)||void 0===o?void 0:o._id){const o=!this.props.bookmark.isStarred;return this.onBookmarkUpdated({isStarred:o})}return(0,s.createNewBookmark)({isStarred:!0,title:this.bookmarkTitle,description:this.bookmarkDescription})})}get isShowIntegrationPages(){return!(0,s.isDiscoverFeedUrl)(location.href)}get aiSummaryBtnProps(){var o;return{bookmark:null!==(o=this.props.bookmark)&&void 0!==o?o:null}}get isDiscoverFeed(){return(0,s.isDiscoverFeedUrl)(location.href)}get isShowAiButton(){var o,t;return!(null===(t=null===(o=this.props.bookmark)||void 0===o?void 0:o.aiSummary)||void 0===t?void 0:t.text)&&!this.isDiscoverFeed}render(){var o,t,r,i;return e.html`
      <div class="bookmark-preview-sub-toolbar">
        <webhighlights-tags
          class="tags"
          .tags=${null!==(t=null===(o=this.props.bookmark)||void 0===o?void 0:o.tags)&&void 0!==t?t:[]}
          .readOnly=${this.props.readOnly}
          data-testid=${v.TEST_IDS.TAGS}
          @focused=${this.onTagsFocused}
          @tagsChanged=${this.onTagsChanged}
        ></webhighlights-tags>
        ${(0,s.bookmarkIsShared)(this.props.bookmark)&&!this.isDiscoverFeed?e.html`
              <webhighlights-share-button
                .frontendUrl="${(0,s.useContext)().environment.WEBSITE_URL}"
                .httpFacade="${this.props.httpFacade}"
                .bookmark="${this.props.bookmark}"
                .readOnly=${this.props.readOnly}
                class="is-shared-info"
                data-testid=${v.TEST_IDS.SHARE_BTN}
              ></webhighlights-share-button>
            `:e.html``}
        ${this.isShowIntegrationPages?e.html`
              <div class="integration-pages-container">
                ${Object.keys(null!==(i=null===(r=this.props.bookmark)||void 0===r?void 0:r.integrationPages)&&void 0!==i?i:{}).filter(o=>o in s.INTEGRATION_LABEL_MAP).map(o=>{var t,r,i,l;const n=o;return e.html`<div class="integration-link-container">
                      <a
                        class="open-page-btn"
                        href="${null!==(l=null===(i=null===(r=null===(t=this.props.bookmark)||void 0===t?void 0:t.integrationPages)||void 0===r?void 0:r[n])||void 0===i?void 0:i.url)&&void 0!==l?l:""}"
                        rel="nofollow"
                        target="_blank"
                        data-testid="${v.TEST_IDS.INTEGRATION_LINK(n)}"
                      >
                        <webhighlights-icon
                          icon="${s.INTEGRATION_ICON_MAP[n]}"
                          class="external-link-icon"
                          size="14"
                          strokeWidth="1.8"
                        >
                        </webhighlights-icon>
                        Open in ${s.INTEGRATION_LABEL_MAP[n]}
                      </a>
                    </div>`})}
              </div>
            `:e.html``}
        ${this.isShowAiButton?e.html`<webhighlights-ai-summary-btn
              .props=${this.aiSummaryBtnProps}
            ></webhighlights-ai-summary-btn>`:e.html``}
      </div>
    `}}f.styles=[...d.f,(0,e.unsafeCSS)(u())],g([(0,i.property)()],f.prototype,"props",void 0),g([(0,i.state)()],f.prototype,"isImageLoading",void 0),g([(0,i.state)()],f.prototype,"isImageError",void 0),h.y.define(b,f)},61824:(o,t,r)=>{"use strict";r.d(t,{c:()=>h});var e=r(21235),i=r(71868),s=r(59805),l=r(63404),n=r(30747),a=r(14460),c=r(7861),h=function(){function o(o){o&&(this._subscribe=o)}return o.prototype.lift=function(t){var r=new o;return r.source=this,r.operator=t,r},o.prototype.subscribe=function(o,t,r){var s,l=this,n=(s=o)&&s instanceof e.vU||function(o){return o&&(0,a.T)(o.next)&&(0,a.T)(o.error)&&(0,a.T)(o.complete)}(s)&&(0,i.Uv)(s)?o:new e.Ms(o,t,r);return(0,c.Y)(function(){var o=l,t=o.operator,r=o.source;n.add(t?t.call(n,r):r?l._subscribe(n):l._trySubscribe(n))}),n},o.prototype._trySubscribe=function(o){try{return this._subscribe(o)}catch(t){o.error(t)}},o.prototype.forEach=function(o,t){var r=this;return new(t=d(t))(function(t,i){var s=new e.Ms({next:function(t){try{o(t)}catch(o){i(o),s.unsubscribe()}},error:i,complete:t});r.subscribe(s)})},o.prototype._subscribe=function(o){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(o)},o.prototype[s.s]=function(){return this},o.prototype.pipe=function(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];return(0,l.m)(o)(this)},o.prototype.toPromise=function(o){var t=this;return new(o=d(o))(function(o,r){var e;t.subscribe(function(o){return e=o},function(o){return r(o)},function(){return o(e)})})},o.create=function(t){return new o(t)},o}();function d(o){var t;return null!==(t=null!=o?o:n.$.Promise)&&void 0!==t?t:Promise}},61867:(o,t,r)=>{"use strict";r.d(t,{m:()=>i});var e=r(14460);function i(o){return o&&(0,e.T)(o.schedule)}},62508:(o,t,r)=>{"use strict";function e(){}r.d(t,{l:()=>e})},62731:(o,t,r)=>{"use strict";r.d(t,{V:()=>i});var e=r(61824);function i(o,t){return new e.c(function(r){var e=0;return t.schedule(function(){e===o.length?r.complete():(r.next(o[e++]),r.closed||this.schedule())})})}},62796:(o,t,r)=>{"use strict";var e=r(93811),i=r(95665),s=r(36774),l=r(38085),n=r(79097),a=r(67083),c=r(85833),h=r(95172),d=r(30827),p=r(71882),u=(r(9355),r(89507)),g=r.n(u),m=function(o,t,r,e){var i,s=arguments.length,l=s<3?t:null===e?e=Object.getOwnPropertyDescriptor(t,r):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,t,r,e);else for(var n=o.length-1;n>=0;n--)(i=o[n])&&(l=(s<3?i(l):s>3?i(t,r,l):i(t,r))||l);return s>3&&l&&Object.defineProperty(t,r,l),l},v=function(o,t,r,e){return new(r||(r=Promise))(function(i,s){function l(o){try{a(e.next(o))}catch(o){s(o)}}function n(o){try{a(e.throw(o))}catch(o){s(o)}}function a(o){var t;o.done?i(o.value):(t=o.value,t instanceof r?t:new r(function(o){o(t)})).then(l,n)}a((e=e.apply(o,t||[])).next())})};const b=l.SHARED_COMPONENTS_INTERNAL.BookmarkDetailsPreview,f=b.TAG;class k extends d.y{constructor(){super(...arguments),this.isImageLoading=!1,this.isImageError=!1,this.updatedBookmark$=new n.B,this.components=[l.SHARED_COMPONENTS.Icon.TAG,l.SHARED_COMPONENTS.Tags.TAG,l.SHARED_COMPONENTS.Favicon.TAG,l.SHARED_COMPONENTS.Tooltip.TAG,l.SHARED_COMPONENTS.LoadingText.TAG,l.SHARED_COMPONENTS.Loading.TAG,l.SHARED_COMPONENTS.Reminder.TAG,l.SHARED_COMPONENTS.ShareButton.TAG,l.SHARED_COMPONENTS.Skeleton.TAG,l.SHARED_COMPONENTS.ImageWithFallback.TAG,l.SHARED_COMPONENTS.AiSummary.TAG],this._toggleBookmarkCommand=new s.YZ(this,{task:()=>v(this,void 0,void 0,function*(){return(0,l.shouldShowShortcuts)(location.href)?l.chromeMessageService.findSpecificCommand("toggle-bookmark"):null}),args:()=>[]})}firstUpdated(){this.startBookmarkUpdateDebouncer()}startBookmarkUpdateDebouncer(){this.updateBookmarkSubscription$=(0,a.x)(this.updatedBookmark$.pipe((0,h.s)(1)),this.updatedBookmark$.pipe((0,c.B)(500))).subscribe(o=>v(this,void 0,void 0,function*(){this.fireBookmarkUpdate(o)}))}fireBookmarkUpdate(o){return v(this,void 0,void 0,function*(){try{return(0,l.updateBookmark)(o)}catch(o){console.error(o)}})}disconnectedCallback(){var o;null===(o=this.updateBookmarkSubscription$)||void 0===o||o.unsubscribe(),super.disconnectedCallback()}onBookmarkUpdated(o){var t;if(!(null===(t=this.props.bookmark)||void 0===t?void 0:t._id))return;const r=Object.assign(Object.assign({},this.props.bookmark),o);this.updatedBookmark$.next(r)}onTitleChange(o){const t=o.target;if(t.value.length>100)return(0,l.showToast)({content:"Title is too long. Max length is 100 characters",uniqueId:"bookmark-title-too-long",duration:5e3,variant:"error"}),void(t.value=t.value.slice(0,100));this.onBookmarkUpdated({title:t.value})}onDescriptionChange(o){const t=o.target;if(t.value.length>160)return(0,l.showToast)({content:"Description is too long. Max length is 160 characters",uniqueId:"bookmark-description-too-long",duration:5e3,variant:"error"}),void(t.value=t.value.slice(0,160));this.onBookmarkUpdated({description:t.value})}onUrlChange(o){const t=o.target;this.onBookmarkUpdated({url:t.value})}onImageLoadError(o){this.isImageError=!0}onTagsChanged(o){return v(this,void 0,void 0,function*(){this.props.bookmark||this.props.readOnly||(yield this.onStarBookmark()),this.onBookmarkUpdated({tags:o.detail.tags})})}onTagsFocused(o){return v(this,void 0,void 0,function*(){this.props.bookmark||this.props.readOnly||(yield this.onStarBookmark())})}onGoToShortcuts(o){(0,l.stopPropagation)(o),(0,l.goToShortcutSettings)()}get bookmarkTitle(){var o,t,r,e,i;return(0,l.truncateString)((0,l.getTitleForBookmark)(Object.assign({title:(null===(o=this.props.bookmark)||void 0===o?void 0:o.title)||(null===(r=null===(t=this.props.bookmark)||void 0===t?void 0:t.meta)||void 0===r?void 0:r.title)||(null===(e=this.props.meta)||void 0===e?void 0:e.title)},null!==(i=this.props.kindleBookInfo)&&void 0!==i?i:{}),document.title),100,{truncateSymbol:""})}get favicon(){var o,t,r;return(null===(t=null===(o=this.props.bookmark)||void 0===o?void 0:o.meta)||void 0===t?void 0:t.favicon)||(null===(r=this.props.meta)||void 0===r?void 0:r.favicon)}get bookmarkDescription(){var o;return(0,l.truncateString)((0,l.getDescriptionForBookmark)(this.props.bookmark)||(null===(o=this.props.meta)||void 0===o?void 0:o.description)||"",160,{truncateSymbol:""}).trim()}onStarBookmark(){return v(this,void 0,void 0,function*(){var o;if(null===(o=this.props.bookmark)||void 0===o?void 0:o._id){const o=!this.props.bookmark.isStarred;return this.onBookmarkUpdated({isStarred:o})}return(0,l.createNewBookmark)({isStarred:!0,title:this.bookmarkTitle,description:this.bookmarkDescription})})}get webAppUrlForBookmark(){var o,t;const{environment:r}=(0,l.useContext)();return(0,l.resolveWebAppUrlForBookmark)(r,{_id:null!==(t=null===(o=this.props.bookmark)||void 0===o?void 0:o._id)&&void 0!==t?t:""})}onOpenInAppClick(){return v(this,void 0,void 0,function*(){(yield l.chromeJwtService.getJwtPayload())?location.href=this.webAppUrlForBookmark:l.notifications.dispatch("loginNeeded",{detail:{}})})}get isShowIntegrationPages(){return!(0,l.isDiscoverFeedUrl)(location.href)}openBookmarkPage(){const o=(0,l.isWebAppUrl)(location.href);o&&this.props.bookmark?l.notifications.dispatch("bookmarkSelected",{detail:[this.props.bookmark,{location:"bookmark-details",openAs:this.props.isPopup?"page":"popup",bookmarkProps:{openInBtnType:this.props.isPopup?"page":void 0}}]}):o||(0,l.showDialog)({dialogName:"bookmark-details",options:{closable:!1,props:Object.assign(Object.assign({},this.props),{isPopup:!0,openInBtnType:"page"}),headerOptions:{showCloseButton:!0,openPageUrl:this.props.bookmark?(0,l.resolveWebAppUrlForBookmark)((0,l.useContext)().environment,this.props.bookmark):void 0,openPageUrlRequiresLogin:!0}}})}get imageWithFallbackProps(){var o,t,r,e,i,s,l,n,a,c;return{src:(null===(o=this.props.kindleBookInfo)||void 0===o?void 0:o.coverImageUrl)||(null===(e=null===(r=null===(t=this.props.bookmark)||void 0===t?void 0:t.meta)||void 0===r?void 0:r.image)||void 0===e?void 0:e.url)||(null===(s=null===(i=this.props.meta)||void 0===i?void 0:i.image)||void 0===s?void 0:s.url),alt:null!==(c=null===(a=null===(n=null===(l=this.props.bookmark)||void 0===l?void 0:l.meta)||void 0===n?void 0:n.image)||void 0===a?void 0:a.alt)&&void 0!==c?c:"Website preview"}}render(){var o,t,r,i,s,n;const a=this.props.isCurrentPageMode||!this.props.bookmark?null!==(o=(0,l.getUrlForCurrentPage)())&&void 0!==o?o:location.href:(0,l.resolveUrlForUrlEntity)(this.props.bookmark),c=!this.props.bookmark||this.props.readOnly;return e.html` <div class="bookmark-preview-header">
      <webhighlights-image-with-fallback
        .props=${this.imageWithFallbackProps}
      ></webhighlights-image-with-fallback>
      <div class="bookmark-preview-header-top">
        <div class="bookmark-preview-header-top-content">
          <div class="bookmark-preview-header-top-left">
            <sl-tooltip .content=${a} placement="top">
              <div class="bookmark-preview-header-top-left-url">
                <div class="url-with-favicon">
                  <webhighlights-favicon
                    .src=${this.favicon}
                    .size=${14}
                  ></webhighlights-favicon>
                  <a
                    data-testid=${b.TEST_IDS.URL_LINK}
                    href=${a}
                    class="url-link"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >${(0,l.urlWithoutSchema)(a)}</a
                  >
                </div>
              </div>
            </sl-tooltip>
            ${"app"===this.props.openInBtnType&&(null===(t=this.props.bookmark)||void 0===t?void 0:t._id)?e.html`
                  <div class="open-page-btn-overlay">
                    <button
                      @click=${this.onOpenInAppClick}
                      data-testid=${b.TEST_IDS.OPEN_APP_BTN}
                      class="open-page-btn"
                    >
                      <webhighlights-icon
                        icon="${l.ICON_NAMES["external-link"]}"
                        class="external-link-icon"
                        .size=${13}
                        strokeWidth="1.8"
                      >
                      </webhighlights-icon>
                      Open in app
                    </button>
                  </div>
                `:e.html``}
            ${"page"===this.props.openInBtnType&&(null===(r=this.props.bookmark)||void 0===r?void 0:r._id)?e.html`
                  <div class="open-page-btn-overlay">
                    <button
                      @click=${this.openBookmarkPage}
                      class="open-page-btn"
                      data-testid="${b.TEST_IDS.OPEN_PAGE_BTN}"
                    >
                      <webhighlights-icon
                        icon="${l.ICON_NAMES["maximize-2"]}"
                        class="external-link-icon"
                        size="14"
                        strokeWidth="1.8"
                      >
                      </webhighlights-icon>
                      Open as page
                    </button>
                  </div>
                `:e.html``}
          </div>
          <div class="bookmark-preview-header-top-right">
            ${this.props.readOnly?e.html``:e.html`
                  ${(null===(i=this.props.bookmark)||void 0===i?void 0:i._id)?e.html`
                        <webhighlights-reminder
                          .bookmark=${this.props.bookmark}
                          class="reminder-btn"
                          data-testid=${b.TEST_IDS.REMINDER}
                        >
                        </webhighlights-reminder>
                      `:e.html`
                        <div class="action-btn-overlay">
                          <button
                            class="star-bookmark-btn shake-tr ${(null===(s=this.props.bookmark)||void 0===s?void 0:s.isStarred)?"active":""}"
                            data-testid="${b.TEST_IDS.TOGGLE_BOOKMARK_BTN}"
                            title="Save page as bookmark"
                            @click=${this.onStarBookmark}
                          >
                            ${this._toggleBookmarkCommand.render({complete:o=>o?e.html`<div class="tooltip-wrapper">
                                      <webhighlights-tooltip position="left">
                                        ${null==o?void 0:o.description} (<a
                                          class="shortcut-link"
                                          href=${l.EXTENSION_SHORTCUT_URL}
                                          @click=${this.onGoToShortcuts}
                                          >${null==o?void 0:o.shortcut}</a
                                        >)</webhighlights-tooltip
                                      >
                                    </div>`:e.html``})}

                            <webhighlights-icon
                              class="favorite-icon"
                              icon="bookmark"
                              stroke-width="1.5"
                              .size=${18}
                            ></webhighlights-icon>
                          </button>
                        </div>
                      `}
                `}
            ${(null===(n=this.props.bookmark)||void 0===n?void 0:n._id)&&!this.props.readOnly?e.html`<div class="action-btn-overlay">
                  <webhighlights-bookmark-details-dots-menu
                    .bookmark=${this.props.bookmark}
                    .meta=${this.props.meta}
                    data-testid=${b.TEST_IDS.DOTS_MENU}
                  ></webhighlights-bookmark-details-dots-menu>
                </div>`:e.html``}
          </div>
        </div>
      </div>
      <div class="bookmark-preview-backdrop">
        <div class="bookmark-preview-backdrop-content">
          <header>
            <div class="bookmark-preview-title-container">
              <input
                type="text"
                name="title"
                autofocus
                placeholder="Title"
                class="title-input"
                ?readonly=${c}
                value=${this.bookmarkTitle}
                @input=${this.onTitleChange}
                data-testid=${b.TEST_IDS.TITLE_INPUT}
              />
              ${this.props.bookmark&&!(0,l.bookmarkIsShared)(this.props.bookmark)?e.html`
                    <webhighlights-share-button
                      .frontendUrl="${(0,l.useContext)().environment.WEBSITE_URL}"
                      .httpFacade="${this.props.httpFacade}"
                      .bookmark="${this.props.bookmark}"
                      .readOnly=${this.props.readOnly}
                      class="is-shared-info"
                      data-testid=${b.TEST_IDS.SHARE_BTN}
                    ></webhighlights-share-button>
                  `:e.html``}
            </div>

            <input
              type="text"
              name="description"
              placeholder="Description"
              class="description-input"
              ?readonly=${c}
              value=${this.bookmarkDescription}
              @input=${this.onDescriptionChange}
              data-testid=${b.TEST_IDS.DESCRIPTION_INPUT}
            />
          </header>
        </div>
      </div>
    </div>`}}k.styles=[...p.f,(0,e.unsafeCSS)(g())],m([(0,i.property)()],k.prototype,"props",void 0),m([(0,i.state)()],k.prototype,"isImageLoading",void 0),m([(0,i.state)()],k.prototype,"isImageError",void 0),d.y.define(f,k)},63404:(o,t,r)=>{"use strict";r.d(t,{m:()=>i});var e=r(24254);function i(o){return 0===o.length?e.D:1===o.length?o[0]:function(t){return o.reduce(function(o,t){return t(o)},t)}}},64904:(o,t,r)=>{"use strict";function e(o){return new TypeError("You provided "+(null!==o&&"object"==typeof o?"an invalid object":"'"+o+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}r.d(t,{L:()=>e})},64991:(o,t,r)=>{"use strict";r.d(t,{f:()=>i});var e=r(85608),i={setInterval:function(o,t){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var l=i.delegate;return(null==l?void 0:l.setInterval)?l.setInterval.apply(l,(0,e.fX)([o,t],(0,e.zs)(r))):setInterval.apply(void 0,(0,e.fX)([o,t],(0,e.zs)(r)))},clearInterval:function(o){var t=i.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(o)},delegate:void 0}},67083:(o,t,r)=>{"use strict";r.d(t,{x:()=>l});var e=r(52348),i=r(25361),s=r(35315);function l(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];return(0,e.K)()((0,s.H)(o,(0,i.lI)(o)))}},68001:(o,t,r)=>{"use strict";r.d(t,{h:()=>l});var e=r(46195),i=r(54184),s=r(869);function l(o,t,r,l,n,a,c,h){var d=[],p=0,u=0,g=!1,m=function(){!g||d.length||p||t.complete()},v=function(o){return p<l?b(o):d.push(o)},b=function(o){a&&t.next(o),p++;var h=!1;(0,e.Tg)(r(o,u++)).subscribe((0,s._)(t,function(o){null==n||n(o),a?v(o):t.next(o)},function(){h=!0},void 0,function(){if(h)try{p--;for(var o=function(){var o=d.shift();c?(0,i.N)(t,c,function(){return b(o)}):b(o)};d.length&&p<l;)o();m()}catch(o){t.error(o)}}))};return o.subscribe((0,s._)(t,v,function(){g=!0,m()})),function(){null==h||h()}}},71868:(o,t,r)=>{"use strict";r.d(t,{Kn:()=>a,Uv:()=>c,yU:()=>n});var e=r(85608),i=r(14460),s=r(10402),l=r(21601),n=function(){function o(o){this.initialTeardown=o,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return o.prototype.unsubscribe=function(){var o,t,r,l,n;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var c=(0,e.Ju)(a),d=c.next();!d.done;d=c.next())d.value.remove(this)}catch(t){o={error:t}}finally{try{d&&!d.done&&(t=c.return)&&t.call(c)}finally{if(o)throw o.error}}else a.remove(this);var p=this.initialTeardown;if((0,i.T)(p))try{p()}catch(o){n=o instanceof s.Z?o.errors:[o]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var g=(0,e.Ju)(u),m=g.next();!m.done;m=g.next()){var v=m.value;try{h(v)}catch(o){n=null!=n?n:[],o instanceof s.Z?n=(0,e.fX)((0,e.fX)([],(0,e.zs)(n)),(0,e.zs)(o.errors)):n.push(o)}}}catch(o){r={error:o}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(r)throw r.error}}}if(n)throw new s.Z(n)}},o.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)h(t);else{if(t instanceof o){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},o.prototype._hasParent=function(o){var t=this._parentage;return t===o||Array.isArray(t)&&t.includes(o)},o.prototype._addParent=function(o){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(o),t):t?[t,o]:o},o.prototype._removeParent=function(o){var t=this._parentage;t===o?this._parentage=null:Array.isArray(t)&&(0,l.o)(t,o)},o.prototype.remove=function(t){var r=this._finalizers;r&&(0,l.o)(r,t),t instanceof o&&t._removeParent(this)},o.EMPTY=((t=new o).closed=!0,t),o}(),a=n.EMPTY;function c(o){return o instanceof n||o&&"closed"in o&&(0,i.T)(o.remove)&&(0,i.T)(o.add)&&(0,i.T)(o.unsubscribe)}function h(o){(0,i.T)(o)?o():o.unsubscribe()}},71882:(o,t,r)=>{"use strict";r.d(t,{f:()=>a});var e=r(93811),i=r(99986),s=r.n(i),l=r(17826),n=r.n(l);const a=[e.css`
    ${(0,e.unsafeCSS)(n())}
  `,e.css`
    ${(0,e.unsafeCSS)(s())}
  `]},72140:(o,t,r)=>{var e=r(42175);e&&e.__esModule&&(e=e.default),o.exports="string"==typeof e?e:e.toString()},74956:(o,t,r)=>{"use strict";r.d(t,{T:()=>i});var e=r(14460);function i(o){return Symbol.asyncIterator&&(0,e.T)(null==o?void 0:o[Symbol.asyncIterator])}},75926:(o,t,r)=>{"use strict";r.d(t,{T:()=>l});var e=r(93811),i=r(81559),s=r.n(i);const l=e.css`
  ${(0,e.unsafeCSS)(s())}
`},78154:(o,t,r)=>{"use strict";r.d(t,{U:()=>e});var e={now:function(){return(e.delegate||Date).now()},delegate:void 0}},79097:(o,t,r)=>{"use strict";r.d(t,{B:()=>c});var e=r(85608),i=r(61824),s=r(71868),l=r(28032),n=r(21601),a=r(7861),c=function(o){function t(){var t=o.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,e.C6)(t,o),t.prototype.lift=function(o){var t=new h(this,this);return t.operator=o,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new l.P},t.prototype.next=function(o){var t=this;(0,a.Y)(function(){var r,i;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var s=(0,e.Ju)(t.currentObservers),l=s.next();!l.done;l=s.next())l.value.next(o)}catch(o){r={error:o}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}})},t.prototype.error=function(o){var t=this;(0,a.Y)(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=o;for(var r=t.observers;r.length;)r.shift().error(o)}})},t.prototype.complete=function(){var o=this;(0,a.Y)(function(){if(o._throwIfClosed(),!o.isStopped){o.isStopped=!0;for(var t=o.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var o;return(null===(o=this.observers)||void 0===o?void 0:o.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),o.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)},t.prototype._innerSubscribe=function(o){var t=this,r=this,e=r.hasError,i=r.isStopped,l=r.observers;return e||i?s.Kn:(this.currentObservers=null,l.push(o),new s.yU(function(){t.currentObservers=null,(0,n.o)(l,o)}))},t.prototype._checkFinalizedStatuses=function(o){var t=this,r=t.hasError,e=t.thrownError,i=t.isStopped;r?o.error(e):i&&o.complete()},t.prototype.asObservable=function(){var o=new i.c;return o.source=this,o},t.create=function(o,t){return new h(o,t)},t}(i.c),h=function(o){function t(t,r){var e=o.call(this)||this;return e.destination=t,e.source=r,e}return(0,e.C6)(t,o),t.prototype.next=function(o){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,o)},t.prototype.error=function(o){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,o)},t.prototype.complete=function(){var o,t;null===(t=null===(o=this.destination)||void 0===o?void 0:o.complete)||void 0===t||t.call(o)},t.prototype._subscribe=function(o){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(o))&&void 0!==r?r:s.Kn},t}(c)},81559:(o,t,r)=>{var e=r(43100);e&&e.__esModule&&(e=e.default),o.exports="string"==typeof e?e:e.toString()},85608:(o,t,r)=>{"use strict";r.d(t,{AQ:()=>d,C6:()=>i,Ju:()=>n,N3:()=>h,YH:()=>l,fX:()=>c,sH:()=>s,xN:()=>p,zs:()=>a});var e=function(o,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])},e(o,t)};function i(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function s(o,t,r,e){return new(r||(r=Promise))(function(i,s){function l(o){try{a(e.next(o))}catch(o){s(o)}}function n(o){try{a(e.throw(o))}catch(o){s(o)}}function a(o){var t;o.done?i(o.value):(t=o.value,t instanceof r?t:new r(function(o){o(t)})).then(l,n)}a((e=e.apply(o,t||[])).next())})}function l(o,t){var r,e,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=n(0),l.throw=n(1),l.return=n(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,n[0]&&(s=0)),s;)try{if(r=1,e&&(i=2&n[0]?e.return:n[0]?e.throw||((i=e.return)&&i.call(e),0):e.next)&&!(i=i.call(e,n[1])).done)return i;switch(e=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,e=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(n);break}i[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(o,s)}catch(o){n=[6,o],e=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}}function n(o){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&o[t],e=0;if(r)return r.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&e>=o.length&&(o=void 0),{value:o&&o[e++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(o,t){var r="function"==typeof Symbol&&o[Symbol.iterator];if(!r)return o;var e,i,s=r.call(o),l=[];try{for(;(void 0===t||t-- >0)&&!(e=s.next()).done;)l.push(e.value)}catch(o){i={error:o}}finally{try{e&&!e.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return l}function c(o,t,r){if(r||2===arguments.length)for(var e,i=0,s=t.length;i<s;i++)!e&&i in t||(e||(e=Array.prototype.slice.call(t,0,i)),e[i]=t[i]);return o.concat(e||Array.prototype.slice.call(t))}function h(o){return this instanceof h?(this.v=o,this):new h(o)}function d(o,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=r.apply(o,t||[]),s=[];return e=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function(o){return function(t){return Promise.resolve(t).then(o,c)}}),e[Symbol.asyncIterator]=function(){return this},e;function l(o,t){i[o]&&(e[o]=function(t){return new Promise(function(r,e){s.push([o,t,r,e])>1||n(o,t)})},t&&(e[o]=t(e[o])))}function n(o,t){try{(r=i[o](t)).value instanceof h?Promise.resolve(r.value.v).then(a,c):d(s[0][2],r)}catch(o){d(s[0][3],o)}var r}function a(o){n("next",o)}function c(o){n("throw",o)}function d(o,t){o(t),s.shift(),s.length&&n(s[0][0],s[0][1])}}function p(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=o[Symbol.asyncIterator];return r?r.call(o):(o=n(o),t={},e("next"),e("throw"),e("return"),t[Symbol.asyncIterator]=function(){return this},t);function e(r){t[r]=o[r]&&function(t){return new Promise(function(e,i){!function(o,t,r,e){Promise.resolve(e).then(function(t){o({value:t,done:r})},t)}(e,i,(t=o[r](t)).done,t.value)})}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},85833:(o,t,r)=>{"use strict";r.d(t,{B:()=>l});var e=r(24611),i=r(22185),s=r(869);function l(o,t){return void 0===t&&(t=e.E),(0,i.N)(function(r,e){var i=null,l=null,n=null,a=function(){if(i){i.unsubscribe(),i=null;var o=l;l=null,e.next(o)}};function c(){var r=n+o,s=t.now();if(s<r)return i=this.schedule(void 0,r-s),void e.add(i);a()}r.subscribe((0,s._)(e,function(r){l=r,n=t.now(),i||(i=t.schedule(c,o),e.add(i))},function(){a(),e.complete()},void 0,function(){l=i=null}))})}},86663:(o,t,r)=>{"use strict";r.d(t,{Rf:()=>a,sk:()=>c});const e=globalThis,i=e.ShadowRoot&&(void 0===e.ShadyCSS||e.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol(),l=new WeakMap;class n{constructor(o,t,r){if(this._$cssResult$=!0,r!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=o,this.t=t}get styleSheet(){let o=this.o;const t=this.t;if(i&&void 0===o){const r=void 0!==t&&1===t.length;r&&(o=l.get(t)),void 0===o&&((this.o=o=new CSSStyleSheet).replaceSync(this.cssText),r&&l.set(t,o))}return o}toString(){return this.cssText}}const a=(o,t)=>{if(i)o.adoptedStyleSheets=t.map(o=>o instanceof CSSStyleSheet?o:o.styleSheet);else for(const r of t){const t=document.createElement("style"),i=e.litNonce;void 0!==i&&t.setAttribute("nonce",i),t.textContent=r.cssText,o.appendChild(t)}},c=i?o=>o:o=>o instanceof CSSStyleSheet?(o=>{let t="";for(const r of o.cssRules)t+=r.cssText;return(o=>new n("string"==typeof o?o:o+"",void 0,s))(t)})(o):o},89507:(o,t,r)=>{var e=r(54918);e&&e.__esModule&&(e=e.default),o.exports="string"==typeof e?e:e.toString()},92257:(o,t,r)=>{"use strict";r.d(t,{R:()=>n});var e=r(85608),i=r(29773),s=r(64991),l=r(21601),n=function(o){function t(t,r){var e=o.call(this,t,r)||this;return e.scheduler=t,e.work=r,e.pending=!1,e}return(0,e.C6)(t,o),t.prototype.schedule=function(o,t){var r;if(void 0===t&&(t=0),this.closed)return this;this.state=o;var e=this.id,i=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(i,e,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(o,t,r){return void 0===r&&(r=0),s.f.setInterval(o.flush.bind(o,this),r)},t.prototype.recycleAsyncId=function(o,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&s.f.clearInterval(t)},t.prototype.execute=function(o,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(o,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(o,t){var r,e=!1;try{this.work(o)}catch(o){e=!0,r=o||new Error("Scheduled action threw falsy error")}if(e)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,e=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,l.o)(e,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,o.prototype.unsubscribe.call(this)}},t}(i.r)},93206:(o,t,r)=>{"use strict";r.d(t,{x:()=>s});var e=r(49758),i=r(14460);function s(o){return(0,i.T)(null==o?void 0:o[e.l])}},93811:o=>{"use strict";o.exports=LitExternal},94644:(o,t,r)=>{"use strict";r.d(t,{_:()=>i});var e=r(78154),i=function(){function o(t,r){void 0===r&&(r=o.now),this.schedulerActionCtor=t,this.now=r}return o.prototype.schedule=function(o,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,o).schedule(r,t)},o.now=e.U.now,o}()},95172:(o,t,r)=>{"use strict";r.d(t,{s:()=>l});var e=r(21166),i=r(22185),s=r(869);function l(o){return o<=0?function(){return e.w}:(0,i.N)(function(t,r){var e=0;t.subscribe((0,s._)(r,function(t){++e<=o&&(r.next(t),o<=e&&r.complete())}))})}},95665:o=>{"use strict";o.exports=LitDecoratorsExternal},96961:(o,t,r)=>{"use strict";r.d(t,{Z:()=>a});var e=r(18045),i=r(46195),s=r(22185),l=r(68001),n=r(14460);function a(o,t,r){return void 0===r&&(r=1/0),(0,n.T)(t)?a(function(r,s){return(0,e.T)(function(o,e){return t(r,o,s,e)})((0,i.Tg)(o(r,s)))},r):("number"==typeof t&&(r=t),(0,s.N)(function(t,e){return(0,l.h)(t,e,o,r)}))}},97042:(o,t,r)=>{"use strict";r.d(t,{q:()=>s});var e=r(85608),i=r(94644),s=function(o){function t(t,r){void 0===r&&(r=i._.now);var e=o.call(this,t,r)||this;return e.actions=[],e._active=!1,e}return(0,e.C6)(t,o),t.prototype.flush=function(o){var t=this.actions;if(this._active)t.push(o);else{var r;this._active=!0;do{if(r=o.execute(o.state,o.delay))break}while(o=t.shift());if(this._active=!1,r){for(;o=t.shift();)o.unsubscribe();throw r}}},t}(i._)},98523:(o,t,r)=>{"use strict";r.d(t,{C:()=>s,U:()=>l});var e=r(85608),i=r(14460);function s(o){return(0,e.AQ)(this,arguments,function(){var t,r,i;return(0,e.YH)(this,function(s){switch(s.label){case 0:t=o.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,(0,e.N3)(t.read())];case 3:return r=s.sent(),i=r.value,r.done?[4,(0,e.N3)(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,(0,e.N3)(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function l(o){return(0,i.T)(null==o?void 0:o.getReader)}},99986:(o,t,r)=>{var e=r(44371);e&&e.__esModule&&(e=e.default),o.exports="string"==typeof e?e:e.toString()}},t={};function r(e){var i=t[e];if(void 0!==i)return i.exports;var s=t[e]={id:e,exports:{}};return o[e](s,s.exports,r),s.exports}r.n=o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return r.d(t,{a:t}),t},r.d=(o,t)=>{for(var e in t)r.o(t,e)&&!r.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:t[e]})},r.o=(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r.r=o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},(()=>{"use strict";var o=r(36774),t=r(38085),e=r(93811),i=r(95665),s=r(30827),l=(r(19853),r(62796),r(60652),r(4441)),n=function(o,t,r,e){var i,s=arguments.length,l=s<3?t:null===e?e=Object.getOwnPropertyDescriptor(t,r):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,t,r,e);else for(var n=o.length-1;n>=0;n--)(i=o[n])&&(l=(s<3?i(l):s>3?i(t,r,l):i(t,r))||l);return s>3&&l&&Object.defineProperty(t,r,l),l},a=function(o,t,r,e){return new(r||(r=Promise))(function(i,s){function l(o){try{a(e.next(o))}catch(o){s(o)}}function n(o){try{a(e.throw(o))}catch(o){s(o)}}function a(o){var t;o.done?i(o.value):(t=o.value,t instanceof r?t:new r(function(o){o(t)})).then(l,n)}a((e=e.apply(o,t||[])).next())})};t.SHARED_COMPONENTS.BookmarkDetails;class c extends s.y{constructor(){super(...arguments),this.activeView="notebook",this.imageLoadingError=!1,this.imageLoading=!0,this.components=[t.SHARED_COMPONENTS.FallbackImage.TAG,t.SHARED_COMPONENTS.BookmarkExploreToolbar.TAG,t.SHARED_COMPONENTS.PageContentPreview.TAG],this._pageContentPreviewProps=new o.YZ(this,{task:()=>a(this,void 0,void 0,function*(){var o,r,e;if(!(null===(o=this.props.bookmark)||void 0===o?void 0:o.url))return null;const i=yield(0,t.useContext)().db.getPageContentForUrl({url:null!==(e=null===(r=this.props.bookmark)||void 0===r?void 0:r.url)&&void 0!==e?e:""});return i?{pageContent:i}:null}),args:()=>[]})}get parentElementOfBookmarkDetails(){var o,t;return null!==(t=null===(o=this.shadowRoot)||void 0===o?void 0:o.host)&&void 0!==t?t:this.parentElement}get view(){var o,r;const e=(null!==(r=null===(o=this.parentElementOfBookmarkDetails)||void 0===o?void 0:o.clientWidth)&&void 0!==r?r:0)<400?"compact":"extended";return(0,t.resolveBookmarkDetailsView)(e,this.props.appConfig.appId,"grid")}firstUpdated(o){this.applyStyles(),this.loadData(),this.subscribeToListeners(),this.updateLastOpened()}updateLastOpened(){var o,r;(null===(o=this.props.bookmark)||void 0===o?void 0:o._id)&&!this.props.isCurrentPageMode&&(0,t.updateBookmark)({_id:null===(r=this.props.bookmark)||void 0===r?void 0:r._id,openedAt:Date.now()},{keepModifiedAtTheSame:!0})}resizeListener(){const o=this.applyStyles.bind(this);return null===window||void 0===window||window.addEventListener("resize",o,{passive:!0}),{unsubscribe:()=>null===window||void 0===window?void 0:window.removeEventListener("resize",o)}}subscribeToListeners(){this.subscriptions=[t.notifications.subscribe("updatedBookmark",this.onBookmarkUpdated.bind(this)),t.notifications.subscribe("scrollInBookmarkDetails",this.onBookmarkDetailsScroll.bind(this)),t.notifications.subscribe("sidebarWidthChangedByDragging",this.applyStyles.bind(this)),this.resizeListener()]}onBookmarkDetailsScroll(o){var t;this.scrollTo({top:Math.max(this.scrollTop+o.detail.stepY,0),behavior:null!==(t=o.detail.behavior)&&void 0!==t?t:"smooth"})}onBookmarkUpdated(o){var t;(null===(t=this.props.bookmark)||void 0===t?void 0:t._id)===o.detail._id&&this.updateBookmarkLocally(o.detail)}updateBookmarkLocally(o){this.props=Object.assign(Object.assign({},this.props),{bookmark:o})}applyStyles(){(0,t.applyCssVariables)(this.parentElementOfBookmarkDetails,this.view.layout)}loadData(){this.loadMetaData()}onImageLoaded(){this.imageLoading=!1}loadMetaData(){return a(this,void 0,void 0,function*(){var o,r,e,i,s;this.props.isCurrentPageMode?this.meta=(0,t.readOpenGraphMetaDataFromPage)():(null===(o=this.props.bookmark)||void 0===o?void 0:o.meta)?this.meta=this.props.bookmark.meta:this.props.meta?this.meta=this.props.meta:(this.meta=yield this.fetchMetaData(),(null===(r=this.props.bookmark)||void 0===r?void 0:r._id)&&!(null===(e=this.props.bookmark)||void 0===e?void 0:e.meta)&&(null===(s=Object.keys(null!==(i=this.meta)&&void 0!==i?i:{}))||void 0===s?void 0:s.length)&&(yield(0,t.updateBookmark)({_id:this.props.bookmark._id,meta:this.meta},{keepModifiedAtTheSame:!0})))})}fetchMetaData(){return a(this,void 0,void 0,function*(){var o,t;try{if("function"==typeof this.props.getMetaData){const r=yield this.props.getMetaData(null!==(t=null===(o=this.props.bookmark)||void 0===o?void 0:o.url)&&void 0!==t?t:"");return"object"==typeof r?r:{}}return{}}catch(o){return{}}})}get bookmarkDetailsPreviewProps(){var o;return Object.assign(Object.assign({},this.props),{isCurrentPageMode:null!==(o=this.props.isCurrentPageMode)&&void 0!==o&&o,openInBtnType:this.props.openInBtnType})}get bookmarkDetailsSubToolbarProps(){return Object.assign({},this.props)}onImageLoadingError(o){this.imageLoadingError=!0,this.imageLoading=!1}onSwitchTab(o){return a(this,void 0,void 0,function*(){"reader"===o&&this._pageContentPreviewProps.run(),this.activeView=o})}render(){var o,r;return e.html`
      <div
        class="bookmark-details-container slide-in"
        part="bookmark-details-container"
      >
        ${this.bookmarkDetailsPreviewProps?e.html`
              <header part="header" class="header">
                <webhighlights-bookmark-details-preview
                  class="bookmark-details-preview"
                  .props=${this.bookmarkDetailsPreviewProps}
                ></webhighlights-bookmark-details-preview>
                <webhighlights-bookmark-details-sub-toolbar
                  .props=${this.bookmarkDetailsSubToolbarProps}
                ></webhighlights-bookmark-details-sub-toolbar>
              </header>
            `:e.html``}
        <div
          class="content-container ${(null===(o=this.props.bookmark)||void 0===o?void 0:o.fullWidthLayout)?"full-width":""}"
          part="content-container"
        >
          <main part="main">
            <webhighlights-bookmark-details-main
              .props=${this.props}
            ></webhighlights-bookmark-details-main>
          </main>
          ${(0,t.bookmarkIsShared)(this.props.bookmark)&&this.props.showLikeBtn?e.html`
                <footer part="footer">
                  <webhighlights-bookmark-explore-toolbar
                    .bookmark=${null!==(r=this.props.bookmark)&&void 0!==r?r:null}
                    .loading=${!1}
                    .httpFacade=${this.props.httpFacade}
                  ></webhighlights-bookmark-explore-toolbar>
                </footer>
              `:e.html``}
        </div>
      </div>
    `}}c.styles=l.T,n([(0,i.property)({type:Object})],c.prototype,"props",void 0),n([(0,i.state)()],c.prototype,"meta",void 0),n([(0,i.state)()],c.prototype,"activeView",void 0),n([(0,i.state)()],c.prototype,"imageLoadingError",void 0),n([(0,i.state)()],c.prototype,"imageLoading",void 0),s.y.define("webhighlights-bookmark-details",c)})()})();