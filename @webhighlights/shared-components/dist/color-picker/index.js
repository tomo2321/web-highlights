/*! For license information please see index.js.LICENSE.txt */
(()=>{var t={21267:(t,e,o)=>{"use strict";var r=o(93811),i=o(95665),n=o(38085),s=o(30827),a=o(39124),l=o.n(a),h=function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};const c=n.SHARED_COMPONENTS_INTERNAL.ColorTile.TAG;class d extends s.y{constructor(){super(...arguments),this.components=[n.SHARED_COMPONENTS.Icon.TAG]}render(){return r.html`
      <button
        @click="${t=>{(0,n.stopPropagation)(t),this.dispatchSelectColor(this.color)}}"
        part="tile"
        class="color-tile ${this.isHighlightColor?"selected":""} ${this.isDefaultColor?"starred":""}"
        tabindex="0"
        style="background: ${this.color}"
      >
        ${this.showMakeDefaultButton&&this.isDefaultColor?r.html`
              <webhighlights-icon
                size="18"
                fill=${this.isDefaultColor?"gold":"white"}
                strokeWidth=${this.isDefaultColor?"1.5":"2"}
                class=${this.isDefaultColor?"starred":""}
                icon="star"
              ></webhighlights-icon>
            `:r.html``}
        ${this.showMakeDefaultButton&&!this.isDefaultColor?r.html`
              <div class="make-default-btn-container">
                <button
                  @click="${t=>{(0,n.stopPropagation)(t),this.dispatchUpdateDefaultColor(this.color)}}"
                  @mouseup=${n.stopPropagation}
                  class="make-default-btn ${this.isDefaultColor?"starred":""}"
                >
                  <webhighlights-icon
                    size="18"
                    fill=${this.isDefaultColor?"gold":"white"}
                    icon="star"
                  ></webhighlights-icon>
                </button>
              </div>
            `:r.html``}
      </button>
    `}}d.styles=r.css`
    ${(0,r.unsafeCSS)(l())}
  `,h([(0,i.property)()],d.prototype,"dispatchSelectColor",void 0),h([(0,i.property)()],d.prototype,"dispatchUpdateDefaultColor",void 0),h([(0,i.property)()],d.prototype,"color",void 0),h([(0,i.property)()],d.prototype,"highlightColor",void 0),h([(0,i.property)()],d.prototype,"isDefaultColor",void 0),h([(0,i.property)()],d.prototype,"isHighlightColor",void 0),h([(0,i.property)()],d.prototype,"defaultHighlightColor",void 0),h([(0,i.property)()],d.prototype,"showMakeDefaultButton",void 0),s.y.define(c,d)},23611:(t,e,o)=>{var r=o(40490);r&&r.__esModule&&(r=r.default),t.exports="string"==typeof r?r:r.toString()},30827:(t,e,o)=>{"use strict";o.d(e,{y:()=>n});var r=o(38085),i=o(93811);class n extends i.LitElement{constructor(){super(...arguments),this.components=[],this.subscriptions=[]}connectedCallback(){super.connectedCallback(),(0,r.lazyDefine)(this.components)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe()}unsubscribe(){this.subscriptions.forEach(t=>{t.unsubscribe()})}static define(t,e,o){(0,r.defineWebHighlightsElement)(t,e,o)}}},31006:(t,e,o)=>{"use strict";o.d(e,{J:()=>i});var r=o(80181);const i=t=>t??r.s6},36758:t=>{"use strict";t.exports=function(t){return t[1]}},38085:t=>{"use strict";t.exports=WebHighlightsSharedLibExternal},39124:(t,e,o)=>{var r=o(78635);r&&r.__esModule&&(r=r.default),t.exports="string"==typeof r?r:r.toString()},40490:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var r=o(36758),i=o.n(r),n=o(40935),s=o.n(n)()(i());s.push([t.id,'.wh-loading-skeleton{color:rgba(0,0,0,0);opacity:.8;animation:1.25s linear 0s infinite normal none running loadingBlinking;background:var(--wh-skeleton-bg);border-radius:4px;position:relative;overflow:hidden}.wh-loading-skeleton::after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, var(--wh-skeleton-bg-hover), transparent);animation:skeleton-shimmer 2s infinite}@keyframes loadingBlinking{0%{background:var(--wh-skeleton-bg)}70%{background:var(--wh-skeleton-bg-hover)}100%{background:var(--wh-skeleton-bg-strong)}}@keyframes skeleton-shimmer{0%{left:-100%}100%{left:100%}}:host{font-family:var(--wh-font-family);box-sizing:border-box}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.primary-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;background:var(--wh-primary-700);text-decoration:none}.primary-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.primary-btn:not(:disabled):hover{background:var(--wh-primary-600)}.secondary-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;background:var(--wh-gray-50);border:.5px solid rgba(47,50,55,.2392156863);background:var(--wh-gray-50);color:var(--wh-gray-600)}.secondary-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.primary-text-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;color:#fff;background:var(--secondary-dark);border:1px solid var(--wh-primary-600)}.primary-text-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.chrome-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;padding:0;background:var(--wh-primary-600);box-shadow:0px 2px 1px -1px rgba(var(--wh-primary-600), 0.6),0 1px 1px 0 rgba(var(--wh-primary-600), 0.341),0 1px 3px 0 rgba(var(--wh-primary-600), 0.322)}.chrome-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.chrome-btn a{text-decoration:none;padding:10px 20px;line-height:40px;color:#fff}.chrome-btn:hover{background:var(--wh-primary-600);transition:all .2s ease;transform:scale(1.03)}[dir="ltr"] :host{text-align:left}[dir="rtl"] :host{text-align:right}:host{position:relative;--color-picker-size: 20px}.colors-palette-container{z-index:9999 !important}.colors-palette-container{position:absolute;bottom:8px}.colors-palette-container.left{right:-16px}.colors-palette-container-inner{display:flex;flex-wrap:wrap;justify-content:flex-start;padding:6px;box-shadow:var(--wh-shadow);width:135px;border-radius:4px;background-color:var(--wh-bg-base)}.colors-palette-container-inner.right{margin-top:20px;margin-bottom:12px;margin-right:30px;margin-left:-3px}.colors-palette-container-inner.left{margin-top:20px;margin-bottom:12px;margin-left:30px;margin-right:-3px}.colors-container{display:flex;flex-wrap:wrap;width:100%;justify-content:flex-start;-moz-column-gap:.6px;column-gap:.6px}.colors-container.first{padding-top:12px;padding-bottom:6px}.colors-container.recent{border-top:.5px solid var(--wh-border-base);padding-top:6px}.colors-container span{width:100%;font-size:11px;color:var(secondary-dark);margin-bottom:1.5px}.slide-in-from-top{animation:slide-in-from-top .3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards}@keyframes slide-in-from-top{0%{transform:translateY(20px)}100%{transform:translateY(0)}}.add-color-btn{position:relative;display:flex;border:none;justify-content:center;align-items:center;background:none;transition:all 1px ease-in-out;width:20px;width:var(--color-picker-size, 20px);height:20px;height:var(--color-picker-size, 20px);cursor:pointer}.add-color-btn:hover webhighlights-icon::part(icon){fill:var(--wh-bg-base-hover);transform:scale(1.15)}.add-color-btn webhighlights-icon::part(icon){color:var(--wh-text-light);width:20px;width:var(--color-picker-size, 20px);height:20px;height:var(--color-picker-size, 20px);transform:scale(1.1)}#color-picker-in-palette{width:20px;width:var(--color-picker-size, 20px);height:20px;height:var(--color-picker-size, 20px);background-color:rgba(0,0,0,0);z-index:1;position:absolute;left:0;top:0;background:none;border:none;cursor:pointer;opacity:0}',""]);const a=s},40935:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var o="",r=void 0!==e[5];return e[4]&&(o+="@supports (".concat(e[4],") {")),e[2]&&(o+="@media ".concat(e[2]," {")),r&&(o+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),o+=t(e),r&&(o+="}"),e[2]&&(o+="}"),e[4]&&(o+="}"),o}).join("")},e.i=function(t,o,r,i,n){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var h=0;h<t.length;h++){var c=[].concat(t[h]);r&&s[c[0]]||(void 0!==n&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=n),o&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=o):c[2]=o),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},46052:(t,e,o)=>{"use strict";var r=o(93811),i=o(95665),n=(o(21267),o(38085)),s=o(30827),a=o(23611),l=o.n(a),h=function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};const c=n.SHARED_COMPONENTS.RecentColors.TAG;class d extends s.y{constructor(){super(...arguments),this.showMakeDefaultButton=!0,this.popupPosition="left",this.colorsPerRow=6,this.components=[n.SHARED_COMPONENTS.Icon.TAG]}dispatchSelectColor(t){this.dispatchEvent(new CustomEvent("selectColor",{bubbles:!0,detail:t}))}dispatchUpdateDefaultColor(t){this.defaultHighlightColor=t,this.dispatchEvent(new CustomEvent("updateDefaultColor",{bubbles:!0,detail:t}))}onNewColorAdded(t){(0,n.stopPropagation)(t);const e=this.colorPickerInPalette.value;e&&this.dispatchSelectColor(e)}isDefaultColor(t){return t===this.defaultHighlightColor}isHighlightColor(t){return t===this.highlightColor}hideColor(t){return!1}get slicedRecentColors(){return[...[...new Set(this.recentColors.filter(t=>!this.hideColor(t)))].slice(0,this.colorsPerRow-1)]}get slicedPastelColors(){return n.defaultColorsPastel.slice(0,this.colorsPerRow)}get slicedNeonColors(){return n.defaultColorsNeon.slice(0,this.colorsPerRow)}renderColorTile(t){const e=this.isDefaultColor(t),o=this.isHighlightColor(t);return r.html`
      <webhighlights-color-tile
        .color=${t}
        .dispatchSelectColor=${this.dispatchSelectColor.bind(this)}
        .dispatchUpdateDefaultColor=${this.dispatchUpdateDefaultColor.bind(this)}
        .highlightColor=${this.highlightColor}
        .isDefaultColor=${e}
        .isHighlightColor=${o}
        .defaultHighlightColor=${this.defaultHighlightColor}
        .showMakeDefaultButton=${this.showMakeDefaultButton}
      ></webhighlights-color-tile>
    `}onAddNewColorClick(t){(0,n.stopPropagation)(t),this.dispatchEvent(new CustomEvent("addNewColorClick"));const e=t=>{t.preventDefault(),document.removeEventListener("mousedown",e)};document.addEventListener("mousedown",e)}render(){var t,e,o;return r.html`
      <div class="colors-palette-container ${this.popupPosition}">
        <div
          class="colors-palette-container-inner ${this.popupPosition} slide-in-from-top"
        >
          <div class="colors-container standard second">
            ${null===(t=this.slicedNeonColors)||void 0===t?void 0:t.map(t=>this.renderColorTile(t))}
          </div>
          <div class="colors-container standard first">
            ${null===(e=this.slicedPastelColors)||void 0===e?void 0:e.map(t=>this.renderColorTile(t))}
          </div>
          <div class="colors-container recent">
            ${null===(o=this.slicedRecentColors)||void 0===o?void 0:o.map(t=>this.renderColorTile(t))}
            <button
              class="add-color-btn"
              title="Add Color"
              @click=${t=>{t.preventDefault(),(0,n.stopPropagation)(t)}}
              @mouseup=${t=>{t.preventDefault(),(0,n.stopPropagation)(t)}}
            >
              <input
                type="color"
                id="color-picker-in-palette"
                @click=${this.onAddNewColorClick}
                @change=${this.onNewColorAdded}
              />
              <webhighlights-icon
                icon="plus-circle"
                strokeWidth="1"
              ></webhighlights-icon>
            </button>
          </div>
        </div>
      </div>
    `}}d.styles=r.css`
    ${(0,r.unsafeCSS)(l())}
  `,h([(0,i.property)()],d.prototype,"recentColors",void 0),h([(0,i.property)()],d.prototype,"showMakeDefaultButton",void 0),h([(0,i.property)()],d.prototype,"popupPosition",void 0),h([(0,i.property)()],d.prototype,"highlightColor",void 0),h([(0,i.property)()],d.prototype,"defaultHighlightColor",void 0),h([(0,i.property)()],d.prototype,"colorsPerRow",void 0),h([(0,i.query)("#color-picker-in-palette")],d.prototype,"colorPickerInPalette",void 0),s.y.define(c,d)},60785:(t,e,o)=>{var r=o(90514);r&&r.__esModule&&(r=r.default),t.exports="string"==typeof r?r:r.toString()},73764:(t,e,o)=>{"use strict";o.d(e,{J:()=>r.J});var r=o(31006)},78635:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var r=o(36758),i=o.n(r),n=o(40935),s=o.n(n)()(i());s.push([t.id,'.wh-loading-skeleton{color:rgba(0,0,0,0);opacity:.8;animation:1.25s linear 0s infinite normal none running loadingBlinking;background:var(--wh-skeleton-bg);border-radius:4px;position:relative;overflow:hidden}.wh-loading-skeleton::after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, var(--wh-skeleton-bg-hover), transparent);animation:skeleton-shimmer 2s infinite}@keyframes loadingBlinking{0%{background:var(--wh-skeleton-bg)}70%{background:var(--wh-skeleton-bg-hover)}100%{background:var(--wh-skeleton-bg-strong)}}@keyframes skeleton-shimmer{0%{left:-100%}100%{left:100%}}:host{font-family:var(--wh-font-family);box-sizing:border-box}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.primary-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;background:var(--wh-primary-700);text-decoration:none}.primary-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.primary-btn:not(:disabled):hover{background:var(--wh-primary-600)}.secondary-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;background:var(--wh-gray-50);border:.5px solid rgba(47,50,55,.2392156863);background:var(--wh-gray-50);color:var(--wh-gray-600)}.secondary-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.primary-text-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;color:#fff;background:var(--secondary-dark);border:1px solid var(--wh-primary-600)}.primary-text-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.chrome-btn{box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);padding:10px 20px;border:none;border-radius:4px;color:#fff;font-weight:400;font-family:var(--wh-font-family);cursor:pointer;padding:0;background:var(--wh-primary-600);box-shadow:0px 2px 1px -1px rgba(var(--wh-primary-600), 0.6),0 1px 1px 0 rgba(var(--wh-primary-600), 0.341),0 1px 3px 0 rgba(var(--wh-primary-600), 0.322)}.chrome-btn:disabled{background:var(--wh-bg-disabled);color:var(--wh-text-light);cursor:not-allowed;box-shadow:none}.chrome-btn a{text-decoration:none;padding:10px 20px;line-height:40px;color:#fff}.chrome-btn:hover{background:var(--wh-primary-600);transition:all .2s ease;transform:scale(1.03)}:host{font-family:var(--wh-font-family);box-sizing:border-box}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.color-tile{border-radius:4px;width:20px;width:var(--color-picker-size, 20px);height:20px;height:var(--color-picker-size, 20px);cursor:pointer}.color-tile.is-preview{transition:all .2s ease-in-out}.color-tile[role=status]{cursor:progress;opacity:.2}.color-tile:hover,.color-tile.selected{box-shadow:0 0 0 .2px var(--wh-text-lighter),inset 0 0 0 .2px var(--wh-text-lighter),inset 0 0 0 .6px var(--wh-bg-base)}.color-tile:not(:hover):not(.selected){border:.5px solid var(--wh-border-color)}webhighlights-icon.starred{transform:scale(0.6);margin:auto;color:#fff}.color-tile{margin-right:2px;position:relative;display:flex;align-items:center;background:none;outline:none;border:none;padding:0}.color-tile .make-default-btn-container{position:absolute;bottom:100%;width:-moz-max-content;width:max-content;padding:0;opacity:0;transform:translateY(3px);transition:all .1s ease-in;transition-delay:.5s;background:rgba(0,0,0,0)}.color-tile .make-default-btn-container .make-default-btn{display:none;cursor:pointer;display:flex;border:none;color:gold;background:rgba(0,0,0,0);padding:0;margin:0 1px}.color-tile .make-default-btn-container .make-default-btn webhighlights-icon::part(icon){fill:#fff}.color-tile .make-default-btn-container .make-default-btn:hover webhighlights-icon::part(icon),.color-tile .make-default-btn-container .make-default-btn.starred webhighlights-icon::part(icon){fill:gold}.color-tile .make-default-btn-container .make-default-btn.starred webhighlights-icon::part(icon){transform:scale(0.6)}.color-tile:hover .make-default-btn-container{opacity:1;transform:translateY(-1px)}',""]);const a=s},80181:(t,e,o)=>{"use strict";o.d(e,{s6:()=>$});const r=globalThis,i=r.trustedTypes,n=i?i.createPolicy("lit-html",{createHTML:t=>t}):void 0,s="$lit$",a=`lit$${Math.random().toFixed(9).slice(2)}$`,l="?"+a,h=`<${l}>`,c=document,d=()=>c.createComment(""),p=t=>null===t||"object"!=typeof t&&"function"!=typeof t,g=Array.isArray,u="[ \t\n\f\r]",f=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,b=/-->/g,v=/>/g,x=RegExp(`>|${u}(?:([^\\s"'>=/]+)(${u}*=${u}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),w=/'/g,m=/"/g,y=/^(?:script|style|textarea|title)$/i,k=t=>(e,...o)=>({_$litType$:t,strings:e,values:o}),C=(k(1),k(2),k(3),Symbol.for("lit-noChange")),$=Symbol.for("lit-nothing"),A=new WeakMap,_=c.createTreeWalker(c,129);function H(t,e){if(!g(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==n?n.createHTML(e):e}const P=(t,e)=>{const o=t.length-1,r=[];let i,n=2===e?"<svg>":3===e?"<math>":"",l=f;for(let e=0;e<o;e++){const o=t[e];let c,d,p=-1,g=0;for(;g<o.length&&(l.lastIndex=g,d=l.exec(o),null!==d);)g=l.lastIndex,l===f?"!--"===d[1]?l=b:void 0!==d[1]?l=v:void 0!==d[2]?(y.test(d[2])&&(i=RegExp("</"+d[2],"g")),l=x):void 0!==d[3]&&(l=x):l===x?">"===d[0]?(l=i??f,p=-1):void 0===d[1]?p=-2:(p=l.lastIndex-d[2].length,c=d[1],l=void 0===d[3]?x:'"'===d[3]?m:w):l===m||l===w?l=x:l===b||l===v?l=f:(l=x,i=void 0);const u=l===x&&t[e+1].startsWith("/>")?" ":"";n+=l===f?o+h:p>=0?(r.push(c),o.slice(0,p)+s+o.slice(p)+a+u):o+a+(-2===p?e:u)}return[H(t,n+(t[o]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),r]};class S{constructor({strings:t,_$litType$:e},o){let r;this.parts=[];let n=0,h=0;const c=t.length-1,p=this.parts,[g,u]=P(t,e);if(this.el=S.createElement(g,o),_.currentNode=this.el.content,2===e||3===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=_.nextNode())&&p.length<c;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(s)){const e=u[h++],o=r.getAttribute(t).split(a),i=/([.?@])?(.*)/.exec(e);p.push({type:1,index:n,name:i[2],strings:o,ctor:"."===i[1]?T:"?"===i[1]?M:"@"===i[1]?O:R}),r.removeAttribute(t)}else t.startsWith(a)&&(p.push({type:6,index:n}),r.removeAttribute(t));if(y.test(r.tagName)){const t=r.textContent.split(a),e=t.length-1;if(e>0){r.textContent=i?i.emptyScript:"";for(let o=0;o<e;o++)r.append(t[o],d()),_.nextNode(),p.push({type:2,index:++n});r.append(t[e],d())}}}else if(8===r.nodeType)if(r.data===l)p.push({type:2,index:n});else{let t=-1;for(;-1!==(t=r.data.indexOf(a,t+1));)p.push({type:7,index:n}),t+=a.length-1}n++}}static createElement(t,e){const o=c.createElement("template");return o.innerHTML=t,o}}function D(t,e,o=t,r){if(e===C)return e;let i=void 0!==r?o._$Co?.[r]:o._$Cl;const n=p(e)?void 0:e._$litDirective$;return i?.constructor!==n&&(i?._$AO?.(!1),void 0===n?i=void 0:(i=new n(t),i._$AT(t,o,r)),void 0!==r?(o._$Co??=[])[r]=i:o._$Cl=i),void 0!==i&&(e=D(t,i._$AS(t,e.values),i,r)),e}class N{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:o}=this._$AD,r=(t?.creationScope??c).importNode(e,!0);_.currentNode=r;let i=_.nextNode(),n=0,s=0,a=o[0];for(;void 0!==a;){if(n===a.index){let e;2===a.type?e=new E(i,i.nextSibling,this,t):1===a.type?e=new a.ctor(i,a.name,a.strings,this,t):6===a.type&&(e=new L(i,this,t)),this._$AV.push(e),a=o[++s]}n!==a?.index&&(i=_.nextNode(),n++)}return _.currentNode=c,r}p(t){let e=0;for(const o of this._$AV)void 0!==o&&(void 0!==o.strings?(o._$AI(t,o,e),e+=o.strings.length-2):o._$AI(t[e])),e++}}class E{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,o,r){this.type=2,this._$AH=$,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=o,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=D(this,t,e),p(t)?t===$||null==t||""===t?(this._$AH!==$&&this._$AR(),this._$AH=$):t!==this._$AH&&t!==C&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):(t=>g(t)||"function"==typeof t?.[Symbol.iterator])(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==$&&p(this._$AH)?this._$AA.nextSibling.data=t:this.T(c.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:o}=t,r="number"==typeof o?this._$AC(t):(void 0===o.el&&(o.el=S.createElement(H(o.h,o.h[0]),this.options)),o);if(this._$AH?._$AD===r)this._$AH.p(e);else{const t=new N(r,this),o=t.u(this.options);t.p(e),this.T(o),this._$AH=t}}_$AC(t){let e=A.get(t.strings);return void 0===e&&A.set(t.strings,e=new S(t)),e}k(t){g(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let o,r=0;for(const i of t)r===e.length?e.push(o=new E(this.O(d()),this.O(d()),this,this.options)):o=e[r],o._$AI(i),r++;r<e.length&&(this._$AR(o&&o._$AB.nextSibling,r),e.length=r)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class R{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,o,r,i){this.type=1,this._$AH=$,this._$AN=void 0,this.element=t,this.name=e,this._$AM=r,this.options=i,o.length>2||""!==o[0]||""!==o[1]?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=$}_$AI(t,e=this,o,r){const i=this.strings;let n=!1;if(void 0===i)t=D(this,t,e,0),n=!p(t)||t!==this._$AH&&t!==C,n&&(this._$AH=t);else{const r=t;let s,a;for(t=i[0],s=0;s<i.length-1;s++)a=D(this,r[o+s],e,s),a===C&&(a=this._$AH[s]),n||=!p(a)||a!==this._$AH[s],a===$?t=$:t!==$&&(t+=(a??"")+i[s+1]),this._$AH[s]=a}n&&!r&&this.j(t)}j(t){t===$?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class T extends R{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===$?void 0:t}}class M extends R{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==$)}}class O extends R{constructor(t,e,o,r,i){super(t,e,o,r,i),this.type=5}_$AI(t,e=this){if((t=D(this,t,e,0)??$)===C)return;const o=this._$AH,r=t===$&&o!==$||t.capture!==o.capture||t.once!==o.once||t.passive!==o.passive,i=t!==$&&(o===$||r);r&&this.element.removeEventListener(this.name,this,o),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,e,o){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(t){D(this,t)}}const z=r.litHtmlPolyfillSupport;z?.(S,E),(r.litHtmlVersions??=[]).push("3.3.1")},90514:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var r=o(36758),i=o.n(r),n=o(40935),s=o.n(n)()(i());s.push([t.id,'.wh-loading-skeleton{color:rgba(0,0,0,0);opacity:.8;animation:1.25s linear 0s infinite normal none running loadingBlinking;background:var(--wh-skeleton-bg);border-radius:4px;position:relative;overflow:hidden}.wh-loading-skeleton::after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, var(--wh-skeleton-bg-hover), transparent);animation:skeleton-shimmer 2s infinite}@keyframes loadingBlinking{0%{background:var(--wh-skeleton-bg)}70%{background:var(--wh-skeleton-bg-hover)}100%{background:var(--wh-skeleton-bg-strong)}}@keyframes skeleton-shimmer{0%{left:-100%}100%{left:100%}}:host{display:flex;justify-content:center;--color-picker-size: 20px}.color-tile{border-radius:4px;width:20px;width:var(--color-picker-size, 20px);height:20px;height:var(--color-picker-size, 20px);cursor:pointer}.color-tile.is-preview{transition:all .2s ease-in-out}.color-tile[role=status]{cursor:progress;opacity:.2}.color-tile:hover,.color-tile.selected{box-shadow:0 0 0 .2px var(--wh-text-lighter),inset 0 0 0 .2px var(--wh-text-lighter),inset 0 0 0 .6px var(--wh-bg-base)}.color-tile:not(:hover):not(.selected){border:.5px solid var(--wh-border-color)}.color-tile{margin:0;width:100%;height:100%}.btn{z-index:9999;position:relative;padding:1px;border:none;width:var(--color-picker-size);height:var(--color-picker-size);background:none;display:flex;align-items:center;box-shadow:0 0 0 .2px var(--wh-text-lighter),inset 0 0 0 .2px var(--wh-text-lighter),inset 0 0 0 1px var(--wh-bg-front);border-radius:5px}.btn webhighlights-recent-colors{display:block}',""]);const a=s},93811:t=>{"use strict";t.exports=LitExternal},95665:t=>{"use strict";t.exports=LitDecoratorsExternal}},e={};function o(r){var i=e[r];if(void 0!==i)return i.exports;var n=e[r]={id:r,exports:{}};return t[r](n,n.exports,o),n.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=o(93811),e=o(95665),r=o(38085),i=o(73764),n=o(30827),s=(o(46052),o(60785)),a=o.n(s),l=function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};const h=r.SHARED_COMPONENTS.ColorPicker.TAG;class c extends n.y{constructor(){super(...arguments),this.components=[r.SHARED_COMPONENTS.RecentColors.TAG],this.showMakeDefaultButton=!0,this.recentColors=[],this.popupPosition="right",this.isLoading=!1,this.showRecentColors=!1,this.outsideClickListener=null}get currentColor(){var t;return null!==(t=this.highlightColor)&&void 0!==t?t:this.chromeSettings.defaultHighlightColor}dispatchChangeColorEvent(t){return e=this,o=void 0,n=function*(){const{color:e,isDefaultChange:o,isChange:i}=t;if(o||(this.showRecentColors=!1,this.highlightColor=e),i){const{recentColors:t}=this.chromeSettings,i=[e,...t].slice(0,10);o?yield(0,r.updateChromeSettings)({defaultHighlightColor:e}):yield(0,r.updateChromeSettings)({recentColors:i})}this.dispatchEvent(new CustomEvent("changeColor",{bubbles:!0,detail:t}))},new((i=void 0)||(i=Promise))(function(t,r){function s(t){try{l(n.next(t))}catch(t){r(t)}}function a(t){try{l(n.throw(t))}catch(t){r(t)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof i?o:new i(function(t){t(o)})).then(s,a)}l((n=n.apply(e,o||[])).next())});var e,o,i,n}selectedRecentColor(t){this.dispatchChangeColorEvent({isChange:!0,color:t})}selectedDefaultRecentColor(t){this.dispatchChangeColorEvent({isChange:!0,isDefaultChange:!0,color:t})}onColorPickerClick(t){t.preventDefault(),(0,r.stopPropagation)(t),this.showRecentColors=!this.showRecentColors,this.showRecentColors&&this.addClickAwayListener()}addClickAwayListener(){this.removeClickAwayListener(),this.outsideClickListener=this.clickAwayListener.bind(this),document.addEventListener("click",this.outsideClickListener)}removeClickAwayListener(){this.outsideClickListener&&document.removeEventListener("click",this.outsideClickListener)}clickAwayListener(t){var e;!(null===(e=t.composedPath())||void 0===e?void 0:e.some(t=>t==this))&&(this.showRecentColors=!1,this.removeClickAwayListener())}render(){return t.html`<button
      tabindex="3"
      class="btn color"
      ?disabled=${this.isLoading}
      part="button"
      title="Change color"
      @click=${this.onColorPickerClick}
    >
      ${this.showRecentColors?t.html`
            <webhighlights-recent-colors
              .recentColors=${this.recentColors}
              .highlightColor=${this.currentColor}
              .popupPosition=${this.popupPosition}
              .defaultHighlightColor=${this.chromeSettings.defaultHighlightColor}
              .showMakeDefaultButton=${this.showMakeDefaultButton}
              @selectColor=${t=>this.selectedRecentColor(t.detail)}
              @updateDefaultColor=${t=>this.selectedDefaultRecentColor(t.detail)}
            ></webhighlights-recent-colors>
          `:t.html``}

      <div
        part="color-tile"
        style="background-color: ${this.isLoading?"#ffffff33":this.highlightColor} !important;"
        role="presentation"
        role="${(0,i.J)(this.isLoading?"status":void 0)}"
        class="color-tile is-preview ${this.showRecentColors?"selected":""}"
      ></div>
    </button>`}}c.styles=t.css`
    ${(0,t.unsafeCSS)(a())}
  `,l([(0,e.property)()],c.prototype,"highlightColor",void 0),l([(0,e.property)({type:Boolean})],c.prototype,"showMakeDefaultButton",void 0),l([(0,e.property)({type:Array})],c.prototype,"recentColors",void 0),l([(0,e.property)({type:Object})],c.prototype,"chromeSettings",void 0),l([(0,e.property)()],c.prototype,"popupPosition",void 0),l([(0,e.property)({type:Boolean})],c.prototype,"isLoading",void 0),l([(0,e.state)()],c.prototype,"showRecentColors",void 0),n.y.define(h,c)})()})();