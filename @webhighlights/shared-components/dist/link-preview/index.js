(()=>{var i={17100:(i,e,t)=>{"use strict";t.d(e,{N:()=>r});var n=t(69361),o=t(38085);function r(i){return new o.HttpFacade((0,n.u)(i))}},22331:(i,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>l});var n=t(36758),o=t.n(n),r=t(40935),a=t.n(r)()(o());a.push([i.id,'.wh-loading-skeleton{color:rgba(0,0,0,0);opacity:.8;animation:1.25s linear 0s infinite normal none running loadingBlinking;background:var(--wh-skeleton-bg);border-radius:4px;position:relative;overflow:hidden}.wh-loading-skeleton::after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, var(--wh-skeleton-bg-hover), transparent);animation:skeleton-shimmer 2s infinite}@keyframes loadingBlinking{0%{background:var(--wh-skeleton-bg)}70%{background:var(--wh-skeleton-bg-hover)}100%{background:var(--wh-skeleton-bg-strong)}}@keyframes skeleton-shimmer{0%{left:-100%}100%{left:100%}}:host{width:450px;height:120px;background-color:white;background-color:var(--wh-bg-base, white);border-width:var(--link-preview-border-width);box-sizing:border-box;border:1px solid #e1e8ed;border:1px solid var(--wh-border-color, #e1e8ed);overflow:hidden;color:rgb(24, 25, 25);color:var(--wh-text, rgb(24, 25, 25));cursor:pointer;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;display:flex;text-decoration:none;opacity:1;position:relative;transition-duration:.15s;transition-timing-function:ease-in-out}webhighlights-loading-text{text-align:left;margin:0px;flex-grow:0;font-size:11px;color:var(--wh-text-lighter);word-break:break-all}.link-preview-image{display:block;flex:0 0 125px;overflow:hidden;height:auto;position:relative;transition:flex-basis .25s ease-in-out 0s;background-color:white;background-color:var(--wh-fallback-img-color, white)}.link-preview-image:not(.loading){width:100%;-o-object-fit:cover;object-fit:cover}.link-preview-image.loading{color:rgba(0,0,0,0);opacity:.8;animation:1.25s linear 0s infinite normal none running loadingBlinking;background:center center/cover no-repeat var(--link-preview-loading-bg-color);background:center center/cover no-repeat var(--wh-bg-lighter, var(--link-preview-loading-bg-color))}.fallback-img{display:flex;align-items:center;justify-content:center}@media(min-width: 991px){.link-preview-image{flex:0 0 180px}}.link-preview-meta-info-container{display:flex;justify-content:space-around;flex-direction:column;flex:1 1 0%;padding:8px 8px;min-width:0px;box-sizing:border-box}.link-preview-meta-info-header{line-height:1.1;display:block;margin:2px 0px 8px;word-break:break-all}.link-preview-meta-info-header.loading{width:60%;height:25px;color:rgba(0,0,0,0);opacity:.8;animation:.75s linear 0s infinite normal none running loadingBlinking;background:--link-preview-loading-bg-color}.link-preview-meta-info-header:not(.loading){text-align:left;font-size:16px;font-weight:400;margin:0px;flex-grow:1.2}.link-preview-meta-info-description{display:block;margin-bottom:12px;position:relative;padding:4px 0}.link-preview-meta-info-description.loading{width:95%;height:30px;color:rgba(0,0,0,0);opacity:.8;animation:.75s linear .125s infinite normal none running loadingBlinking;background:--link-preview-loading-bg-color}.link-preview-meta-info-description:not(.loading){text-align:left;font-size:13px;font-weight:300;flex-grow:2;margin:auto 0px;line-height:16px;text-overflow:ellipsis}.link-preview-meta-info-footer{display:flex;word-break:break-all}.link-preview-meta-info-footer webhighlights-loading-text{width:100%;padding:2px 0;font-size:10px;color:var(--wh-text-lightest);--loading-text-duration: 0.75s;--loading-text-delay: 0.25s;--loading-text-opacity: 0.8;--loading-width: 40%}',""]);const l=a},30827:(i,e,t)=>{"use strict";t.d(e,{y:()=>r});var n=t(38085),o=t(93811);class r extends o.LitElement{constructor(){super(...arguments),this.components=[],this.subscriptions=[]}connectedCallback(){super.connectedCallback(),(0,n.lazyDefine)(this.components)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe()}unsubscribe(){this.subscriptions.forEach(i=>{i.unsubscribe()})}static define(i,e,t){(0,n.defineWebHighlightsElement)(i,e,t)}}},36758:i=>{"use strict";i.exports=function(i){return i[1]}},38085:i=>{"use strict";i.exports=WebHighlightsSharedLibExternal},40935:i=>{"use strict";i.exports=function(i){var e=[];return e.toString=function(){return this.map(function(e){var t="",n=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),n&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=i(e),n&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(i,t,n,o,r){"string"==typeof i&&(i=[[null,i,void 0]]);var a={};if(n)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(a[s]=!0)}for(var d=0;d<i.length;d++){var c=[].concat(i[d]);n&&a[c[0]]||(void 0!==r&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),e.push(c))}},e}},57560:(i,e,t)=>{var n=t(22331);n&&n.__esModule&&(n=n.default),i.exports="string"==typeof n?n:n.toString()},69361:(i,e,t)=>{"use strict";t.d(e,{u:()=>r});var n=t(38085);const o=new n.ChromeJwtService;function r(i){return new n.HttpClient(i||n.productionEnvironment,o)}},93811:i=>{"use strict";i.exports=LitExternal},95665:i=>{"use strict";i.exports=LitDecoratorsExternal}},e={};function t(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={id:n,exports:{}};return i[n](r,r.exports,t),r.exports}t.n=i=>{var e=i&&i.__esModule?()=>i.default:()=>i;return t.d(e,{a:e}),e},t.d=(i,e)=>{for(var n in e)t.o(e,n)&&!t.o(i,n)&&Object.defineProperty(i,n,{enumerable:!0,get:e[n]})},t.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e),t.r=i=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},(()=>{"use strict";var i=t(38085),e=t(93811),n=t(95665),o=t(17100),r=t(30827),a=t(57560),l=t.n(a),s=function(i,e,t,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(i,e,t,n);else for(var l=i.length-1;l>=0;l--)(o=i[l])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);return r>3&&a&&Object.defineProperty(e,t,a),a};const d=i.SHARED_COMPONENTS.LinkPreview,c="webhighlights-link-preview";class g extends r.y{get meta(){var i,e,t,n,o,r;return Object.assign(Object.assign(Object.assign(Object.assign({},null!==(e=null===(i=this.props)||void 0===i?void 0:i.metaDataFallback)&&void 0!==e?e:{}),this.metaData),null!==(n=null===(t=this.props)||void 0===t?void 0:t.metaData)&&void 0!==n?n:{}),null!==(r=null===(o=this.props)||void 0===o?void 0:o.metaDataOverrides)&&void 0!==r?r:{})}get loading(){var i,e;return void 0===this.metaData&&void 0===(null===(i=this.props)||void 0===i?void 0:i.metaData)||(null===(e=this.props)||void 0===e?void 0:e.loading)}constructor(){var e;super(),this.imageLoadingError=!1,this.components=[i.SHARED_COMPONENTS.LoadingText.TAG,i.SHARED_COMPONENTS.FallbackImage.TAG],(null===(e=this.props)||void 0===e?void 0:e.metaData)&&(this.metaData=this.props.metaData)}firstUpdated(){return i=this,e=void 0,n=function*(){var i,e,t,n;this.metaData||(null===(i=this.props)||void 0===i?void 0:i.metaData)||!(null===(e=this.props)||void 0===e?void 0:e.url)||(this.httpFacade=(0,o.N)(null===(t=this.props)||void 0===t?void 0:t.environment),this.httpFacade.getMetaData(null===(n=this.props)||void 0===n?void 0:n.url).then(i=>this.metaData=i).catch(()=>this.metaData={}))},new((t=void 0)||(t=Promise))(function(o,r){function a(i){try{s(n.next(i))}catch(i){r(i)}}function l(i){try{s(n.throw(i))}catch(i){r(i)}}function s(i){var e;i.done?o(i.value):(e=i.value,e instanceof t?e:new t(function(i){i(e)})).then(a,l)}s((n=n.apply(i,e||[])).next())});var i,e,t,n}get loadingClass(){return this.loading?"loading":""}get description(){var e,t,n,o,r;const a=null!==(t=null===(e=this.meta)||void 0===e?void 0:e.description)&&void 0!==t?t:"";return(0,i.truncateString)(a,null!==(r=null===(o=null===(n=this.props)||void 0===n?void 0:n.truncate)||void 0===o?void 0:o.description)&&void 0!==r?r:70)}get previewUrl(){var e,t,n,o,r,a;if(this.loading)return"";const l=null!==(n=null===(t=null===(e=this.props)||void 0===e?void 0:e.url)||void 0===t?void 0:t.split("//")[1])&&void 0!==n?n:"";return(0,i.truncateString)(l,null!==(a=null===(r=null===(o=this.props)||void 0===o?void 0:o.truncate)||void 0===r?void 0:r.url)&&void 0!==a?a:32)}get title(){var e,t,n,o,r;return(0,i.truncateString)(this.loading?"":null!==(t=null===(e=this.meta)||void 0===e?void 0:e.title)&&void 0!==t?t:"",null!==(r=null===(o=null===(n=this.props)||void 0===n?void 0:n.truncate)||void 0===o?void 0:o.title)&&void 0!==r?r:50).trim()}get imageSrc(){var i,e,t;return null!==(t=null===(e=null===(i=this.meta)||void 0===i?void 0:i.image)||void 0===e?void 0:e.url)&&void 0!==t?t:""}onImageLoadingError(i){this.imageLoadingError=!0}render(){var i,t;return e.html`
      <div
        class="link-preview-meta-info-container ${this.loadingClass}"
        part="info-container"
      >
        <!-- prettier-ignore -->
        <header data-testid=${d.TEST_IDS.TITLE} class="link-preview-meta-info-header ${this.loadingClass}" part="header">${this.title}</header>
        <main
          data-testid=${d.TEST_IDS.DESCRIPTION}
          class="link-preview-meta-info-description ${this.loadingClass}"
          part="description"
        >
          <span>${this.description}</span>
        </main>
        <footer class="link-preview-meta-info-footer">
          <webhighlights-loading-text
            class="link-preview-meta-info-footer-url"
            data-testid=${d.TEST_IDS.URL}
            .loading=${!!this.loadingClass}
            >${this.previewUrl}</webhighlights-loading-text
          >
        </footer>
      </div>
      ${this.loading?e.html`
            <div
              class="link-preview-image ${this.loadingClass}"
              part="image"
            ></div>
          `:e.html`
            ${this.imageLoadingError||!this.imageSrc?e.html`
                  <webhighlights-fallback-img
                    class="link-preview-image"
                    part="image"
                  ></webhighlights-fallback-img>
                `:e.html` <img
                  class="link-preview-image"
                  data-testid=${d.TEST_IDS.IMAGE}
                  part="image"
                  src="${this.imageSrc}"
                  alt=${(null===(t=null===(i=this.meta)||void 0===i?void 0:i.image)||void 0===t?void 0:t.alt)||"Link preview image"}
                  loading="lazy"
                  @error=${this.onImageLoadingError}
                />`}
          `}
    `}}g.styles=e.css`
    ${(0,e.unsafeCSS)(l())}
  `,s([(0,n.property)()],g.prototype,"props",void 0),s([(0,n.property)()],g.prototype,"metaData",void 0),s([(0,n.state)()],g.prototype,"imageLoadingError",void 0),r.y.define(c,g),r.y.define(c,g)})()})();